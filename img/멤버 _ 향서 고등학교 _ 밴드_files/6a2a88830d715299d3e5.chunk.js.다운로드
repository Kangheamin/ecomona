(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1041:function(e,t){e.exports={DISCOVER_HOME:"DISCOVER_HOME",DISCOVER_MORE:"DISCOVER_MORE",RECOMMEND_FOR_NO_FEED:"RECOMMEND_FOR_NO_FEED",BAND_LIST_SUB:"BAND_LIST_SUB",INTRO_BODY:"INTRO_BODY"}},1124:function(e,t,n){var r=n(0),i=n(6),o=n(1633),a=n(649),s=n(844),u=n(514),d=i.Collection.extend({model:o,modelId:function(e){return e.bandNo||e.band_no},fetch:function(){return this._cursor=null,this._fetch()},fetchMore:function(){!this._fetching&&this._cursor&&(this._fetching=!0,this._fetch().always(r.bind((function(){this._fetching=!1}),this)))},_fetch:function(){return s.getHowAboutThisBand(this._cursor).then(r.bind((function(e){var t=u.get(e,"card_list"),n=r.chain(t).map((function(e){return u.get(e,"bands_layout.body_layout.band_info_list")[0]})).compact().value(),i=r.last(n)||{};this._cursor=i.cursor||null,this.add(n,{parse:!0})}),this))}});function c(e){return new d(e,{parse:!0})}function h(e){return c(r.map(e,(function(e){return{band_no:e.band_no,cover_url:e.cover,description:e.description,is_certified:e.certified,is_recruiting:e.is_recruiting,leader_name:e.leader_name,live:e.live,member_count:e.member_count,name:e.name,tag:e.keyword}})))}function l(e,t){var n={type:e,limit:t||null};return a.getFindBandMore(n).then(r.bind((function(e){return{title:e.title,type:e.type,collection:h(e.items)}}),this))}d.build=function(e){return c(e)},d.parseRecommendBands=function(e){return h(e)},d.fetchRecommendForNoFeed=function(e){return l("recommend_for_no_feed",e)},d.fetchRecommend=function(e){return l("recommend",e)},e.exports=d},1633:function(e,t,n){var r=n(0),i=n(53),o=n(6),a=n(17),s=n(539),u=n(155),d=n(160),c=o.Model.extend({parse:function(e){return i.camelizeKeys(e)},getBandNo:function(){return this.get("bandNo")},getContentLineage:function(){return this.get("contentLineage")||null},getCoverUrl:function(){return this.get("coverUrl")},getDescription:function(){return this.get("description")||null},isCertified:function(){return this.get("isCertified")||!1},isRecruiting:function(){return this.get("isRecruiting")||!1},getLeaderName:function(){return this.get("leaderName")},isLive:function(){return this.get("live")||!1},getMemberCount:function(){return this.get("memberCount")},getName:function(){return this.get("name")},getTag:function(){return this.get("tag")||null},getTagContentLineage:function(){return this.get("tagContentLineage")||null},getBandUrl:function(){var e={band_no:this.getBandNo()};return this.isRecruiting()?s.LFG_BAND_HOME.makeUrl(e):u.GROUP_BAND_HOME.makeUrl(e)},canShowTag:function(){return!r.isEmpty(this.getTag())&&!d.GLOBAL_SEARCH.isAccessRestricted()},getTagUrl:function(){var e=this.get("tagOnClick");return e?a.changeProtocolAndDomainIfBandUs(e):d.GLOBAL_SEARCH.makeUrl({query:encodeURIComponent(this.getTag())})}});e.exports=c},603:function(e,t,n){var r=n(0),i=n(4),o=new IntersectionObserver((function(e){r.each(e,(function(e){$(e.target).trigger("DISCOVER_INTERSECT",e)}))}),{rootMargin:"-50px 0px 0px 0px",threshold:[.5]}),a=i.Behavior.extend({events:{DISCOVER_INTERSECT:"_onIntersect"},initialize:function(e){this._exposureCallback=e.exposureCallback,this._immediate=e.immediate,this._exposureTime=null},onAttach:function(){o.observe(this.view.el)},onBeforeDetach:function(){this._clearExposureTime(),o.unobserve(this.view.el)},_onIntersect:function(e,t){e.preventDefault(),e.stopPropagation(),t.isIntersecting?(this._exposureTime=Date.now(),this._immediate&&setTimeout(r.bind(this._clearExposureTime,this),500)):this._clearExposureTime()},_clearExposureTime:function(){if(this._exposureTime){var e=Date.now()-this._exposureTime;this._exposureTime=null,100<=e&&this._exposureCallback(e)}}});e.exports=a},649:function(e,t,n){var r;void 0===(r=function(e){var t=n(2),r=n(0),i=n(21),o=n(196),a=n(13),s="/v1.0.1/get_discover_band_main",u=window.isMobileView?"/v1.0.0/get_discover_band":"/v1.0.1/get_discover_band",d="/v1.0.0/get_find_band_more",c="/v1.2.0/get_begin_bands",h="/v1.0.0/request_my_band_to_begin",l="/v1.0.0/get_discover_location";return{getApiClient:function(){return this.apiClient||(a.isLogedIn()?this.apiClient=i.getLoginV1Client():this.apiClient=i.getNoLoginV1Client()),this.apiClient},getDiscoverBandMain:function(){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+s,data:{sections:"ad,keyword_groups,begin,recommend,recommend_page,location_band"}})},getKeywordGroups:function(){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+u,data:{section:"keyword_groups"}})},getKeywords:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+u,data:{section:"keywords",param1:e}})},getKeywordGroupPopularBands:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+u,data:{section:"keyword_bands",param1:"keyword_group",param2:e}})},getKeywordGroupPageBands:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+u,data:{section:"keyword_bands",param1:"page",param2:e}})},getRecommendedPageBandList:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+u,data:r.extend({section:"recommend_page"},e)})},getKeywordBands:function(e,t,n){var r={section:"keyword_bands",param1:"keyword",param2:e};return null!=t&&(r.after=t),null!=n&&(r.limit=n),this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+u,data:r})},getRecommendedLiveList:function(){return this.getApiClient().sendAndThenProcess({url:"https://api.band.us"+u,data:{section:"recommend_live"}})},getFindBandMore:function(e){return this.getApiClient().send({url:"https://api.band.us"+d,data:e}).then((function(e,t,n){return e.result_data}))},getBeginBands:function(e){return this.getApiClient().send({url:"https://api.band.us"+c,data:e}).then((function(e,t,n){return e.result_data}))},requestMyBandToBegin:function(e){var t={band_no:e};return i.getLoginV1Client().send({url:"https://api.band.us"+h,data:t}).then((function(e,t,n){return e}))},searchOpenBandPosts:function(e){if(!a.isLogedIn())return t.Deferred().resolve({items:[],paging:{next_params:null,previous_params:null},total:0});var n={query:e.query,after:e.after,limit:e.limit};return this.getApiClient().send({url:o.SEARCH_OPEN_BAND_POST_URL,data:n}).then((function(e,t,n){return e.result_data}))},searchFindBandsWithKeyword:function(e){var t={types:e.types,query:e.query,after:e.after,limit:e.limit};return e.filter&&r.extend(t,e.filter),this.getApiClient().send({url:o.SEARCH_BAND_URL,data:t}).then((function(e,t,n){return e.result_data}))},getDiscoverLocation:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+l,data:e})},getDiscoverBand:function(e){return i.getNoLoginV1Client().sendAndThenProcess({url:"https://api.band.us"+u,data:e})}}}.call(t,n,t,e))||(e.exports=r)},844:function(e,t,n){var r=n(0),i=n(21),o=n(13);function a(){return o.isLogedIn()?i.getLoginV1Client():i.getNoLoginV1Client()}function s(){return o.isLogedIn()?i.getLoginV1ClientWithoutErrorAlert():i.getNoLoginV1Client()}var u={getDiscoverList:function(){return a().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.8/discover/list",params:{platform:"WEB",webPlatform:window.isMobileView?"MWEB":"PCWEB"}}]).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdDiscover:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/discover/get",params:{discoverVersion:"1.0.0",platform:"WEB"},method:"GET"}]).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdMissionList:function(e,t){var n=[{svc_id:"RCMD",path:"/v1/mission/list",params:e,method:"GET"}];return t&&n.push({svc_id:"RCMD",path:"/v1/mission/keywordList",method:"GET"}),a().sendBatchApiBatchRequest(n).then((function(e){return r.pluck(e,"result_data")}))},getRcmdBandHomeUpperList:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/bandhome/upperList",params:{bandHomeUpperVersion:"1.1.0",platform:"WEB"},method:"GET"}]).then((function(e){return r.pluck(e,"result_data")}))},getRcmdUserKeywords:function(e,t){var n=[{svc_id:"RCMD",path:"/v1/keyword/getUserKeywords",params:{userNo:e,country:t},method:"GET"}];return a().sendBatchApiBatchRequest(n).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdUserRegion:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcmdUserRegion",method:"GET"}]).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdRcodeName:function(e){var t=[{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcodeName",params:{rcode:e},method:"GET"}];return s().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdRegionBandKeywordList:function(){return a().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/keywordList"}]).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdRegionBandList:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/list",params:e}];return s().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))},setRcmdUserKeyword:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeyword",params:e}];return a().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))},setRcmdUserKeywords:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeywords",params:e}];return a().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))},sendRcmdRefreshPathParam:function(e){var t=[{svc_id:"RCMD",method:"GET",path:e}];return s().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))},getRcmdBandHomeRegionBandCard:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/bandhome/regionBandCard"}]).then((function(e){return r.pluck(e,"result_data")[0]}))},getHowAboutThisBand:function(e){var t=[{svc_id:"RCMD",method:"GET",path:"/v1/howaboutthisband/list",params:{howAboutThisBandVersion:"1.0.0",cursor:e||null}}];return a().sendBatchApiBatchRequest(t).then((function(e){return r.pluck(e,"result_data")[0]}))}};e.exports=u}}]);
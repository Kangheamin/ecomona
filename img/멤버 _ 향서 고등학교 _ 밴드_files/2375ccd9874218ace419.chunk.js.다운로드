(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1022:function(t,e,n){var i;void 0===(i=function(t){var e=n(6),i=n(0),a=n(53),o=n(158),s=n(9),r=n(16);return e.Model.extend({idAttribute:"id",defaults:function(){return{bandNo:"",type:"",isRecruiting:!1,description:"",schoolInfo:"",location:null,keywords:[],keywordsWithKeywordGroups:[],businessRegistrationNo:"",mediaList:[],bandFiles:[],shortcut:null}},parse:function(t){return{}},setAttributes:function(t){var e=a.camelizeKeys(t);this.set(i.extend(this.defaults(),e))},getBandNo:function(){return this.get("band")},getBandType:function(){return this.get("type")},isRecruiting:function(){return this.get("isRecruiting")},getBandDescription:function(){return this.get("description")},getBandSchoolInfo:function(){return this.get("schoolInfo")},getBandLocation:function(){return this.get("location")},getBandKeywords:function(){return this.get("keywords")},getBandKeywordsWithKeywordGroups:function(){return this.get("keywordsWithKeywordGroups")},getBandBusinessRegistrationNo:function(){return this.get("businessRegistrationNo")},getBandMediaList:function(){return this.get("mediaList")},_getBandIntroFiles:function(){return this.get("bandFiles")},getBandIntroFilesDescription:function(){return this._getBandIntroFiles().description?this.get("bandFiles").description:""},getBandFiles:function(){return i.map(this._getBandIntroFiles().fileList,(function(t){return{fileId:t.fileId,fileName:t.fileName,fileSizeNumber:t.fileSize,fileSize:o.toStringFileSize(t.fileSize),updatedAt:s.format.date(r(t.updatedAt),"year_month_day"),fileTypeIcon:o.getFileType("","",t.fileName)}}))},getBandDropboxFiles:function(){return i.map(this._getBandIntroFiles().dropboxList,(function(t){return{link:t.link,name:t.name,fileSizeNumber:t.size,size:o.toStringFileSize(t.size),order:t.order,fileTypeIcon:o.getFileType("","",t.name)}}))},setBandKeywords:function(t){this.set("keywords",t)},setBandKeywordsWithKeywordGroups:function(t){this.set("keywordsWithKeywordGroups",t)},removeSelectedKeywordInfo:function(t){console.log(t)},setBandLocation:function(t){this.set("location",t)},getBandShortcutUrl:function(){return this.get("shortcut")},setBandShortcutUrl:function(t){this.set("shortcut",t)},canShowGroupBandIntro:function(){return!(i.isEmpty(this.getBandDescription())&&i.isEmpty(this.getBandMediaList())&&i.isEmpty(this.getBandFiles())&&i.isEmpty(this.getBandDropboxFiles())&&i.isEmpty(this.getBandShortcutUrl())&&i.isEmpty(this.getBandSchoolInfo())&&i.isEmpty(this.getBandKeywords())&&i.isEmpty(this.getBandLocation())&&i.isEmpty(this.getBandBusinessRegistrationNo()))}})}.call(e,n,e,t))||(t.exports=i)},1025:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(6),a=n(1056),o=i.Collection.extend({model:a,initialize:function(t,e){this._updated=!1,this.listenTo(this,"update reset",(function(t,e){this._updated=!0}))},comparator:function(t){return t.get("order")},isUpdated:function(){return this._updated},toJSONForSave:function(){var t=this.groupBy((function(t){return t.get("isDropboxFile")?"dropboxFiles":"bandFiles"}));return{file_list:e.map(t.bandFiles,(function(t){return t.toJSONForSave()})),dropbox_list:e.map(t.dropboxFiles,(function(t){return t.toJSONForSave()}))}}});return o.buildFromBandIntroFiles=function(t,n){var i=[];return e.each(t,(function(t){t.isDropboxFile=!1,i.push(t)}),this),e.each(n,(function(t){t.isDropboxFile=!0,i.push(t)}),this),new o(i,{parse:!0})},o}.call(e,n,e,t))||(t.exports=i)},1055:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(6),a=n(160),o=n(621),s=n(890),r=n(13),d=n(9),l=i.Model.extend({defaults:{region:null,regionLinkUrl:null,keyword:null,keywordLinkUrl:null,joinConditionLabel:null,showRegionAndKeyword:!1},initialize:function(t,e){this._bandData=e.bandData,this._localBandPermission=e.localBandPermission,this._initAttrs()},resetAttrs:function(){this._initAttrs()},_initAttrs:function(){var t={region:this._bandData.getRegion(),regionLinkUrl:this._getRegionLinkUrl(),keyword:this._getSelectedKeyword(),keywordLinkUrl:this.getLocalKeywordLinkUrl(),joinConditionLabel:this._getJoinConditionLabel(),showRegionAndKeyword:r.canAccessBandSearchForGuardianship()};this.set(t)},_getSelectedKeyword:function(){var t=this._bandData.getBandKeywordsWithKeywordGroups();return e.isEmpty(t)?null:{keywordGroup:t[0].keyword_groups[0],keyword:t[0].keyword}},_getRegionLinkUrl:function(){if(!this._localBandPermission.canDiscoverLocalBand())return null;var t=this._bandData.getRegion();return d.isKoreaCountryCode()?o.getLocalBandUrl(t.rcode):window.isMobile&&d.isUSACountryCode()?a.GLOBAL_DISCOVER_LOCATION.makeAccessibleUrl({location_id:t.rcode}):null},getLocalKeywordLinkUrl:function(){if(!this._localBandPermission.canDiscoverLocalBand())return null;var t=this._getSelectedKeyword(),e=t&&t.keywordGroup,n=t&&t.keyword;return d.isKoreaCountryCode()?o.getLocalBandUrl(null,e,n):d.isUSACountryCode()?a.GLOBAL_KEYWORD_GROUP.makeAccessibleUrl({group:encodeURIComponent(e),keyword:encodeURIComponent(n)}):null},_getJoinConditionLabel:function(){var t=this._bandData.getJoinOption();return t?{gender:s.getJoinOptionByAllowedGender(t.gender,!0),yearOfBirthday:s.getJoinOptionByAllowedYearOfBirth(t.minBirthYear,t.maxBirthYear,!0)}:null}});return l.build=function(t,e){return new l(null,{bandData:t,localBandPermission:e,parse:!0})},l}.call(e,n,e,t))||(t.exports=i)},1056:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(53),a=n(6),o=n(158),s=n(9),r=n(677);return a.Model.extend({defaults:{fileId:null,sosId:null,link:null,fileName:null,fileSize:null,uploadedAt:null,isDropboxFile:null,order:null,fileTypeIcon:null,fileSizeText:null,uploadedAtText:null},parse:function(t){var n;n=(t=i.camelizeKeys(t)).isDropboxFile?{isDropboxFile:!0,link:t.link,fileName:t.name,fileSize:t.size,order:t.order}:{isDropboxFile:!1,fileId:t.fileId,sosId:t.sosId,fileName:t.fileName,fileSize:t.fileSize,uploadedAt:t.uploadedAt,order:t.order};var a,r,d=o.getFileType(null,null,n.fileName);return n.isDropboxFile||(a=o.toStringFileSize(n.fileSize),r=s.format.date(n.uploadedAt,"year_month_day")),e.extend(n,{fileTypeIcon:d,fileSizeText:a,uploadedAtText:r}),n},getFileUrl:function(t){if(this.get("isDropboxFile"))return $.Deferred().resolve(this.get("link")).promise();var e=this.get("fileId");return e?r.getBandIntroFileUrl(t,e):$.Deferred().reject().promise()},toJSONForSave:function(){return this.get("isDropboxFile")?this._toDropboxFileJSONForSave():this._toBandFileJSONForSave()},_toBandFileJSONForSave:function(){var t,e=this.get("fileId");return t=e?{file_id:e}:{sos_id:this.get("sosId"),file_name:this.get("fileName"),file_size:this.get("fileSize")},this.collection&&(t.order=this.collection.indexOf(this)),t},_toDropboxFileJSONForSave:function(){var t={link:this.get("link"),name:this.get("fileName"),size:this.get("fileSize")};return this.collection&&(t.order=this.collection.indexOf(this)),t}})}.call(e,n,e,t))||(t.exports=i)},1069:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(6),a=n(497);return i.Collection.extend({fetchVirtualMemberCollection:function(t){return a.getVirtualMembers(t).then(e.bind((function(t){this.reset(t)}),this))}})}.call(e,n,e,t))||(t.exports=i)},1122:function(t,e,n){var i;void 0===(i=function(t){return{SHORT_DESCRIPTION:{MAX_LENGTH:200},DESCRIPTION:{MAX_LENGTH:500},MEDIA:{TYPE:{IMAGE:"image",VIDEO:"video"},MAX_COUNT:4},FILE:{DESC_MAX_LENGTH:200,MAX_COUNT:10,MAX_SIZE_PER_FILE:104857600,MAX_SIZE_TOTAL:104857600}}}.call(e,n,e,t))||(t.exports=i)},1186:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(6),a=n(555),o=n(559),s=n(9),r=n(13);return i.Model.extend({fetchMemberConfig:function(t){return a.getMemberConfig(t).then(e.bind((function(t){this.set(t)}),this))},getUserName:function(){return this.get("member").name},getProfileImageUrl:function(){return this.get("member").profile_image_url},getBandOpenType:function(){return this.get("band").open_type},isOpenUserBirthday:function(){return this.get("member").is_open_birthday},isAllowChatInvitation:function(){return this.get("member").allow_chat_invitation},isAllowOtherBandInvitation:function(){return this.get("member").allow_other_band_invitation},getJoinInfo:function(){return this.get("member").join_info},getEmailNoti:function(){return this.get("member").email_noti},getPhotoEmailNoti:function(){return this.get("member").photo_email_noti},getPostEmailNotiLevel:function(){return this.get("levels_of_notifications").post_email_noti},getScheduleEmailNotiLevel:function(){return this.get("levels_of_notifications").schedule_email_noti},getPostEmailNoti:function(){return this.get("member").post_email_noti},getScheduleEmailNoti:function(){return this.get("member").schedule_email_noti},getOpenCellphoneRoles:function(){return this.get("member").open_cellphone_roles},isPermittedModifyOpenBirthday:function(){return e.contains(this.get("member").permitted_operation,"modify_open_birthday")},isPermittedModifyOpenCellphone:function(){return this.getModifyOpenCellphonePermittedOperations().length>0},getModifyOpenCellphonePermittedOperations:function(){return e.intersection(this.get("member").permitted_operation,["modify_open_cellphone_roles_anyone","modify_open_cellphone_roles_until_coleader","modify_open_cellphone_roles_only_leader"])},isPermittedModifyAllowChatInvitation:function(){return e.contains(this.get("member").permitted_operation,"modify_allow_chat_invitation")},isPermittedModifyAllowOtherBandInvitation:function(){return e.contains(this.get("member").permitted_operation,"modify_allow_other_band_invitation")},isPermittedReportBand:function(){return e.contains(this.get("member").permitted_operation,"report_band")},isEnableBandPhotoPrint:function(){return r.isNotKid()&&s.isKoreaCountryCode()&&this.getBandOpenType()===o.BAND_OPEN_TYPE.SECRET}})}.call(e,n,e,t))||(t.exports=i)},1193:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(2),a=n(4),o=n(3533),s=n(489),r=n(2153),d=n(156),l=n(550),c=n(1567),u=n(26),h=n(157),p=a.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBusinessIdentificationInfoView"},template:e.template(o),ui:{closeButton:"._closeButton",menuBtn:"._menuBtn",menuBoxDiv:"._menuBoxDiv",updateBusinessIDInfoBtn:"._updateBusinessIDInfoBtn",deleteBusinessIDInfoBtn:"._deleteBusinessIDInfoBtn"},templateContext:function(){return{bandName:this._bandData.getBandName(),showOption:this._bandData.canManageBusinessRegistration(),showBandTermAsPage:this._bandData.getBandCore().showBandTermAsPage()}},events:{"click @ui.closeButton":function(){this.destroy()},"click @ui.menuBtn":function(){this.ui.menuBoxDiv.toggle()},"click @ui.deleteBusinessIDInfoBtn":function(){!this._updateProgress&&confirm("사업자 정보를 모두 삭제하시겠습니까?")&&(this.ui.menuBoxDiv.hide(),this._updateProgress=!0,d.wrapActivePromise(l.SETTING.unsetBandBusinessRegistration(this._bandNo),this).then(e.bind((function(){u.getDGlobalChannel().trigger(u.EVENT.BUSINESS_IDENTIFICATION_INFO_CHANGED),this.destroy()}),this)).always(e.bind((function(){this._updateProgress=!1}),this)))},"click @ui.updateBusinessIDInfoBtn":function(){this.destroy(),c.openDBusinessIDInfoRegistrationLayer({bandNo:this._bandNo})}},initialize:function(t){this._bandNo=t.bandNo,this._bandData=t.bandData}});return p.openDBusinessIdentificationInfoView=function(t){var n=r.buildBusinessIdentificationInfoModel({bandNo:t.bandNo}),a=h.get(t.bandNo);a.resetBandDataState();var o=i.when(a.loadBandData(),n.fetchBusinessIdentificationInfo()).then(e.bind((function(i){return function(t){return new p(t)}(e.extend({},t,{model:n,bandData:i}))}),this));return s.openPromiseView(o,!1,{width:450,height:518}),o},p}.call(e,n,e,t))||(t.exports=i)},1308:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(489),o=n(3531),s=i.View.extend({attributes:{"data-viewname":"DConfirmModalWithCheckboxView"},className:"lyWrap",template:e.template(o),templateContext:function(){return{title:this.options.title,desc:this.options.desc,descTitle:this.options.descTitle,confirmLabel:this.options.confirm,cancelLabel:this.options.cancel,closeLabel:this.options.closeLayer,confirmCheckboxDescription:this.options.confirmCheckboxDescription}},ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",btnClose:"._btnClose",confirmCheckbox:"._confirmCheckbox"},events:{"click @ui.confirmCheckbox":"_adaptButtonStyle","click @ui.btnConfirm":"_confirmAction","click @ui.btnCancel":"_cancelAction","click @ui.btnClose":"_cancelAction"},onRender:function(){this._adaptButtonStyle()},_adaptButtonStyle:function(){this.getUI("confirmCheckbox").is(":checked")?(this.getUI("btnConfirm").prop("disabled",!1),this.getUI("btnConfirm").removeClass("-disabled")):(this.getUI("btnConfirm").prop("disabled",!0),this.getUI("btnConfirm").addClass("-disabled"))},_confirmAction:function(){this.trigger("modal:confirm"),this.destroy()},_cancelAction:function(){this.trigger("modal:cancel"),this.destroy()}});return s.openAsLayer=function(t){t=e.extend({title:"",descTitle:"",desc:"",confirm:"",cancel:"",closeLayer:"",confirmCheckboxDescription:""},t);var n=new s(t);return a.open(n),n},s}.call(e,n,e,t))||(t.exports=i)},1566:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(6),a=n(183),o=n(82),s=n(609),r=i.Model.extend({idAttribute:"id",parse:function(t){var e={};return e.id=t.id,e.type=t.type,e.data=t.data,e}}),d=i.Collection.extend({model:r});return i.Model.extend({defaults:function(){return{description:null,content:null,mediaList:new d,location:null}},parse:function(t){var e=this.defaults();if(t.description&&(e.description=t.description),t.content&&(e.content=t.content),t.media_list&&(e.mediaList=new d(t.media_list,{parse:!0})),t.location){var n=new s(t.location,{parse:!0});n.isEmptyLocation()||(e.location=n)}return e},fetchPageIntro:function(t){return a.getPageIntro(t).then(e.bind((function(t){this.set(e.extend(this.defaults(),this.parse(t)))}),this))},setPageIntroInfo:function(t,e){var n={bandNo:t,description:e.pageDescription,content:e.pageContent,location:e.pageLocation,mediaList:e.pageMediaList};return o.setBandInfo(n)},removePageIntroInfo:function(t){return o.deleteBandInfo(t)},isExistPageIntro:function(){return!e.isEmpty(this.get("description"))},getPageMediaList:function(){return this.get("mediaList")?this.get("mediaList"):null},getPageLocation:function(){return this.get("location")?this.get("location"):null},setPageLocation:function(t){t?this.set("location",s.buildLocationModel(t)):this.unset("location")}})}.call(e,n,e,t))||(t.exports=i)},1567:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(12),a=n(2),o=n(4),s=n(3534),r=n(489),d=n(157),l=n(2153),c=n(550),u=n(156),h=n(26),p=n(3535),b=o.View.extend({tagName:"section",className:"lyWrap ",attributes:{"data-viewname":"DBusinessIdentificationInfoRegistrationView"},template:e.template(s),ui:{saveButton:"._saveButton",cancelButton:"._cancelButton",inputArea:"._inputArea",companyNameInput:"._companyNameInput",representativeNameInput:"._representativeNameInput",addressInput:"._addressInput",phoneInput:"._phoneInput",emailInput:"._emailInput",registrationNo:"._registrationNo",mailOrderSalesNoInput:"._mailOrderSalesNoInput",deleteBusinessIDInfoBtn:"._deleteBusinessIDInfoBtn",menuBoxDiv:"._menuBoxDiv",menuBtn:"._menuBtn"},templateContext:function(){return{title:this.model.isExistBusinessIDInfo()?"사업자 정보 변경":"사업자 정보 등록",showOption:this.model.isExistBusinessIDInfo(),showBandName:this._bandData.getBandCore().showBandTermAsPage(),bandName:this._bandData.getBandCore().name}},events:{"click @ui.cancelButton":"destroy","input @ui.inputArea":"_checkButtonActivation","click @ui.saveButton":"_submitBusinessIDInfo","input @ui.addressInput":"_adjustAddressByMaxLength","click @ui.deleteBusinessIDInfoBtn":"_deleteBusinessIDInfo","click @ui.menuBtn":function(){this.ui.menuBoxDiv.toggle()}},initialize:function(t){this._bandNo=t.bandNo,this._bandData=t.bandData},onAttach:function(){this._checkButtonActivation(),this.model.isExistBusinessIDInfo()||u.wrapDeferPromise(this).then(e.bind((function(){var t=p.openDPersonalInfoCollectingForBusinessView({bandData:this._bandData});this.listenTo(t,p.CLOSE_COLLECTING_PERSONAL_INFO_EVENT,this.destroy)}),this))},_checkButtonActivation:function(){var t=e.find(this.ui.inputArea,(function(t){var n=a(t);return!n.hasClass("_mailOrderSalesNoInput")&&e.isEmpty(i.trim(n.val()))}));this.ui.saveButton.prop("disabled",null!=t)},_submitBusinessIDInfo:function(){this._updateProgress||(this.model.set({bandNo:this._bandNo,companyName:this.ui.companyNameInput.val(),representativeName:this.ui.representativeNameInput.val(),address:this.ui.addressInput.val(),phone:this.ui.phoneInput.val(),email:this.ui.emailInput.val(),registrationNo:this.ui.registrationNo.val(),mailOrderSalesNo:this.ui.mailOrderSalesNoInput.val()}),this._updateProgress=!0,u.wrapActivePromise(c.SETTING.setBandBusinessRegistration(this.model.toApiParam()),this).then(e.bind((function(){h.getDGlobalChannel().trigger(h.EVENT.BUSINESS_IDENTIFICATION_INFO_CHANGED),this.destroy()}),this)).always(e.bind((function(){this._updateProgress=!1}),this)))},_adjustAddressByMaxLength:function(){u.wrapDeferPromise(this).then(e.bind((function(){var t=i.trim(this.ui.addressInput.val());t.length<=100||this.ui.addressInput.val(t.substring(0,100))}),this))},_deleteBusinessIDInfo:function(){!this._updateProgress&&confirm("사업자 정보를 모두 삭제하시겠습니까?")&&(this.ui.menuBoxDiv.hide(),this._updateProgress=!0,u.wrapActivePromise(c.SETTING.unsetBandBusinessRegistration(this._bandNo),this).then(e.bind((function(){h.getDGlobalChannel().trigger(h.EVENT.BUSINESS_IDENTIFICATION_INFO_CHANGED),this.destroy()}),this)).always(e.bind((function(){this._updateProgress=!1}),this)))}});return b.openDBusinessIDInfoRegistrationLayer=function(t){var n=l.buildBusinessIdentificationInfoModel({bandNo:t.bandNo}),i=d.get(t.bandNo);i.resetBandDataState();var o=a.when(i.loadBandData(),n.fetchBusinessIdentificationInfo()).then(e.bind((function(i){return function(t){return new b(t)}(e.extend({},t,{model:n,bandData:i}))}),this));return r.openPromiseView(o,!1,{width:450,height:505}),o},b}.call(e,n,e,t))||(t.exports=i)},1568:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3537),o=n(489),s=n(516),r=n(1614),d=n(2142),l=n(1556),c=n(1808),u={CONFIRM:"CONFIRM",CANCEL:"CANCEL"},h=i.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandKeywordSettingView"},template:e.template(a),templateContext:function(){return{guideTitle:this.options.guideTitle,hasSelectedKeyword:!this._selectedKeywordListCollection.isEmpty()}},ui:{btnCancel:"._btnCancel",btnConfirm:"._btnConfirm",btnAddKeywords:"._btnAddKeywords",btnAddMoreKeywords:"._btnAddMoreKeywords"},regions:{selectedKeywordListRegion:{el:"._selectedKeywordListRegion",replaceElement:!0}},events:{"click @ui.btnCancel":"destroy","click @ui.btnConfirm":function(){if(this._withoutSaving)return this.trigger(u.CONFIRM,this._selectedKeywordListCollection.toJSON()),void this.destroy();this._saveBandKeywords()},"click @ui.btnAddKeywords, @ui.btnAddMoreKeywords":function(t){var e=r.openLayer({bandNo:this._bandNo,showRecommendedKeywords:!0,isForLocalBand:!1,selectedKeywords:this._selectedKeywordListCollection.toJSON()});this.listenToOnce(e,r.EVENTS.CONFIRM,(function(t){this._selectedKeywordListCollection.reset(t)}))}},initialize:function(t){this._bandNo=t.bandNo,this._selectedKeywordListCollection=new l(t.selectedKeywords),this.listenTo(this._selectedKeywordListCollection,"update reset",(function(t,e){this._toggleBtnAddKeywords(),this.getUI("btnConfirm").prop("disabled",!this._isBandKeywordChanged())})),this._withoutSaving=t.withoutSaving},onAttach:function(){this._showSelectedKeywordListView()},_isBandKeywordChanged:function(){var t=e.map(this._selectedKeywordListCollection.toJSON(),(function(t){return JSON.stringify(t)})),n=e.map(this.options.selectedKeywords,(function(t){return JSON.stringify(t)}));return!e.isEmpty(e.difference(t,n))||!e.isEmpty(e.difference(n,t))},_toggleBtnAddKeywords:function(){var t=this.getUI("btnAddKeywords");t&&t.toggle(this._selectedKeywordListCollection.isEmpty())},_showSelectedKeywordListView:function(){this.showChildView("selectedKeywordListRegion",new c({collection:this._selectedKeywordListCollection}))},_saveBandKeywords:function(){s.openLayer({headerTitle:IM("bandsetting.keyword.save.confirm.title2"),bodyDesc:IM("bandsetting.keyword.save.confirm.desc2")}).once(s.EVENTS.CONFIRM,e.bind((function(){var t=this._selectedKeywordListCollection.pluck("keyword");d.setBandKeywords(this._bandNo,t).then(e.bind((function(){this.trigger(u.CONFIRM),this.destroy()}),this))}),this))}});return h.EVENTS=u,h.openLayer=function(t){var e=new h({bandNo:t.bandNo,selectedKeywords:t.selectedKeywords,withoutSaving:t.withoutSaving||!1,guideTitle:t.guideTitle});return o.open(e),e},h}.call(e,n,e,t))||(t.exports=i)},1569:function(t,e,n){var i;void 0===(i=function(t){n(0);var e=n(6),i=n(2154);return e.Collection.extend({model:i,initialize:function(t,e){this._updated=!1,this.listenTo(this,"update reset",(function(t,e){this._updated=!0}))},toJSONForSave:function(){return this.map((function(t){return t.toJSONForSave()}))},isUpdated:function(){return this._updated}})}.call(e,n,e,t))||(t.exports=i)},1619:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(16),o=n(3532),s=n(489),r=n(9),d=n(564),l=n(82),c=n(516),u=n(160),h={CONFIRM:"CONFIRM",END_OF_HOLD_PERIOD:"END_OF_HOLD_PERIOD"},p=function(t){return a().isAfter(t)},b=i.View.extend({attributes:{"data-viewname":"DBandDeleteReservationCancelView"},template:e.template(o),templateContext:function(){return{closureTimeText:this._getFormattedReservedClosureAtText()}},ui:{btnConfirm:"._btnConfirm",btnCancel:"._btnCancel",closureTimeText:"._closureTimeText"},events:{"click @ui.btnConfirm":"_onClickConfirm","click @ui.btnCancel":"destroy"},initialize:function(t){this.bandData=t.bandData,this.useCancelConfirm=t.useCancelConfirm,this.reservedClosureAt=this.bandData.getReservedClosureAt()},_getFormattedReservedClosureAtText:function(){var t=null;return t=this.reservedClosureAt.isSame(a(),"day")?r.format.time(this.reservedClosureAt,"hour_minute"):r.format.date(this.reservedClosureAt,"month_day_time"),IM("bandsetting.band_delete.reservation_cancel.desc1",{time:t})},_onClickConfirm:function(){p(this.reservedClosureAt)?this._goGlobalHome():this.useCancelConfirm?this._openCancelConfirmView():this._cancelBandClosure()},_openCancelConfirmView:function(){c.openLayer({bodyTitle:IM("bandsetting.band_delete.reservation_cancel.confirm_msg"),confirm:IM("ui.label.yes"),cancel:IM("ui.label.no"),withoutHiding:!1}).once(c.EVENTS.CONFIRM,e.bind((function(){this.$el.hide(),p(this.reservedClosureAt)?this._goGlobalHome():this._cancelBandClosure()}),this))},_cancelBandClosure:function(){l.cancelBandClosure(this.bandData.getBandNo()).then(e.bind((function(){this._refreshBandDataAndDestroy(h.CONFIRM)}),this),e.bind((function(){this.$el.show()}),this))},_refreshBandDataAndDestroy:function(t){this.bandData.resetBandDataState(),this.bandData.loadBandData().then(e.bind((function(){this.trigger(t),this.destroy()}),this))},_goGlobalHome:function(){u.GLOBAL_HOME.goDForced()}});return b.EVENT=h,b.openAsLayer=function(t,e){var n=null;return n=p(t.getReservedClosureAt())?d.openLayer({bodyTitle:IM("bandsetting.can_not_change_settings.text")}):new b({bandData:t,useCancelConfirm:e}),s.open(n),n},b}.call(e,n,e,t))||(t.exports=i)},1621:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3538),o=n(614),s=n(545),r=(n(1569),n(2154)),d=n(509),l=n(1122),c=n(3539),u=n(616),h=i.View.extend({tagName:"div",className:function(){return this.options.wrapperClassNames},attributes:{"data-viewname":"DBandIntroEditMediaListView"},template:e.template(a),templateContext:function(){return{subTitle:this.options.subTitle}},ui:{mediaUploader:"._mediaUploader"},regions:{mediaListRegion:{el:"._mediaListRegion",replaceElement:!0}},childViewEvents:{upload:function(){u.isContentCreationPunished()||this.getUI("mediaUploader").find('input[type="file"]').click()}},initialize:function(t){this._bandData=t.bandData,this._bandNo=this._bandData.getBandCore().bandNo,this._mediaListCollection=t.mediaListCollection},onAttach:function(){this._showMediaList(),this._loadMediaUploader()},onBeforeDetach:function(){this._mediaUploader&&this._mediaUploader.destroy()},_showMediaList:function(){this.showChildView("mediaListRegion",new c({collection:this._mediaListCollection}))},_loadMediaUploader:function(){this._mediaUploader&&this._mediaUploader.destroy();var t={bandNo:this._bandNo,scan:this._bandData.isScannable()};this._mediaUploader=o.createPageIntroMediaUploader(this.getUI("mediaUploader"),t),this.listenTo(this._mediaUploader,d.BEFORE_VALIDATE,e.bind((function(){var t=this._mediaListCollection.length;this._mediaUploader.setValidators([e.partial(s.PHOTO_OR_VIDEO_VALIDATOR,e,t,l.MEDIA.MAX_COUNT)])}),this)),this.listenTo(this._mediaUploader,d.UPLOAD_COMPLETE,e.bind((function(t){if(!e.isEmpty(t)&&!e.isEmpty(t.resultList)){var n=t.resultList[0];this._mediaListCollection.add(r.parseFromUploadResult(n))}}),this))}});return h.show=function(t,e){if(t){t.hasView()&&t.empty();var n=new h({bandData:e.bandData,mediaListCollection:e.mediaListCollection,wrapperClassNames:e.wrapperClassNames,subTitle:e.subTitle});return t.show(n),n}},h}.call(e,n,e,t))||(t.exports=i)},1622:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(2),a=n(4),o=n(3541),s=n(491),r=n(647),d=n(17),l=n(504),c=n(502),u=n(13),h=n(550),p=n(160),b=n(155),m=n(539),f=n(552),g=n(1193),_=n(26),v=n(490),y=n(498),w=n(157),I=n(518),B=n(181),D=n(1873),C=n(82),M=n(1022),L=n(1017),N=n(81),S=n(1871),x=n(489),E=(n(635),n(522),n(737),n(677),n(183)),A=n(164),T=n(841),R=n(1842),O=n(9),k=n(16),U=n(1874),P=n(3544),V=n(43),F=n(3546),G=n(746),K=n(156),H={MODIFY_INTRO:"MODIFY_INTRO"},z=a.View.extend({attributes:{"data-viewname":"DGroupBandIntroView"},className:function(){return this._isHeaderRequired()?"sBandInfo gContentCardShadow":"gContentCardShadow"},getTemplate:function(){return this._fetched?e.template(o):e.template(c)},templateContext:function(){return this._fetched?{showHeader:this.showHeader,isSummaryView:this.isSummaryView,showMoreOptionMenu:this.showMoreOptionMenu,isPermittedManageDescription:this.bandOptionModel&&this.bandOptionModel.isPermittedManageDescription(),introDescription:this._getIntroDescription(this.bandIntroModel.getBandDescription()),bandKeywordsWithKeywordGroups:this._getBandKeywordsWithKeywordGroups(),canOpenKeywordGroup:this._canOpenKeywordGroup(),bandLocation:this._getLocation(),canShowBusinessIdentificationInfo:this.bandData.canShowBusinessIdentificationInfo(),businessRegistrationNo:this.bandIntroModel.getBandBusinessRegistrationNo(),canShowGroupBandIntroDescriptionAndDoAction:this.bandData.canShowGroupBandIntroDescriptionAndDoAction(),canShowGroupIntro:this._canShowGroupBandIntro(),getSchoolInfo:this.bandIntroModel.getBandSchoolInfo(),canReportBand:this.bandData.canReportBand(),isRecruiting:this.bandIntroModel.isRecruiting(),bandWebUrl:this.bandData.getBandWebUrl(),bandIntroUrl:d.appendCurrentDomainOnPathUrl(b.GROUP_BAND_INTRO.makeUrl({band_no:this.bandNo})),connectedPageBandList:this._getConnectedPageBandList(),bandHistory:this._activityBandSummaryHistory(),activityByDaySummaryTxt:this._activityByDaySummaryTxt(),canShowGroupBandMainActivitySummary:this.bandData.canShowGroupBandMainActivitySummary(),showLocalBandInfo:this.localBandPermission.canShowLocalBandInfo(),hasRegion:!!this.bandData.getRegion(),isRecruitingBand:this.bandData.getBandCore().isRecruiting}:{_loading_size:l.Size.MEDIUM}},ui:{btnBandKeyword:"._btnBandKeyword",bandLocation:"._bandLocation",btnMore:"._btnMore",moreMenuLayer:"._moreMenuLayer",btnModifyIntro:"._btnModifyIntro",showBusinessIDInfoButton:"._showBusinessIDInfoButton",reportBand:"._reportBand",btnCopyBandUrl:"._btnCopyBandUrl",btnCopyBandIntroUrl:"._btnCopyBandIntroUrl",bandIntroChart:"._bandIntroChart",bandIntroMediaListRegion:"._bandIntroMediaListRegion",goBandIntro:"._goBandIntro",subscribePage:"._subscribePage",unsubscribePage:"._unsubscribePage"},events:{"click @ui.btnBandKeyword":"_openKeywordGroup","click @ui.bandLocation":"_openMap","click @ui.btnMore":"_toggleMoreMenuLayer","click @ui.btnModifyIntro":"_moveToModifyIntro","click @ui.showBusinessIDInfoButton":"_showBusinessIDInfo","click @ui.reportBand":"_reportBand","click @ui.goBandIntro":function(){b.GROUP_BAND_INTRO.goDForced({band_no:this.bandNo})},"click @ui.subscribePage":"_subscribePage","click @ui.unsubscribePage":"_unsubscribePage"},regions:{bandIntroMediaListRegion:{el:"@ui.bandIntroMediaListRegion",replaceElement:!0},localBandInfoRegion:{el:"._localBandInfoRegion",replaceElement:!0},upcomingLocalMeetupScheduleListRegion:{el:"._upcomingLocalMeetupScheduleListRegion",replaceElement:!0},attachedFileListRegion:{el:"._attachedFileListRegion",replaceElement:!0}},behaviors:function(){var t=[v,R];return this.options.jplSceneId&&t.push({behaviorClass:y,sceneId:this.options.jplSceneId}),t},initialize:function(t){this._fetched=!1,this.bandData=t.bandData,this.bandNo=t.bandData.getBandCore().bandNo,this.localBandPermission=G.build(this.bandData),this.showHeader=this._isHeaderRequired(),this.isSummaryView=t.isSummaryView,this.showMoreOptionMenu=t.showMoreOptionMenu},onRender:function(){this._fetched&&this._canShowGroupBandIntro()&&(this._showLocalBandInfo(),this._showMediaList(),this._showUpcomingLocalMeetupScheduleList(),this._showAttachedFileListView(),this.activityBandSummary&&!e.isEmpty(this.activityBandSummary[0])&&this.activityBandSummary[0].weekly_activity_map&&this._generateChartForBandDayStats())},onAttach:function(){return u.isLogedIn()&&this.bandData.canShowGroupBandIntroDescriptionAndDoAction()?K.wrapActivePromise(i.when(h.getBandOption(this.bandNo),C.getBand_({band_no:this.bandNo,fields:"band_no,type,is_recruiting,description,school_info,location,keyword,business_registration_no,media_list,band_files"}),E.getConnectedPageBandList(this.bandNo),C.activityBandSummary(this.bandNo)),this).then(e.bind((function(t,e,n,i){this._fetched=!0,this.bandOptionModel=t,this.bandIntroModel=new M,this.bandIntroModel.setAttributes(e),this.connectedPageBandList=n,this.activityBandSummary=i,this.render();var a=[w.UPDATE_EVENT.PROFILE,w.UPDATE_EVENT.MEMBER,w.UPDATE_EVENT.BAND,w.UPDATE_EVENT.LINK].join(" ");this.listenTo(this.bandData,a,(function(){this.render()})),this.listenTo(_.getDGlobalChannel(),_.EVENT.BAND_SHORTCUT_SETUP,(function(){this._refreshBandData()})),this.listenTo(_.getDGlobalChannel(),_.EVENT.BUSINESS_IDENTIFICATION_INFO_CHANGED,(function(){this._refreshBandData()}))}),this)):K.wrapActivePromise(i.when(C.getBand_({band_no:this.bandNo,fields:"band_no,type,is_recruiting,description,school_info,location,keyword,business_registration_no,media_list,band_files"}),E.getConnectedPageBandList(this.bandNo),C.activityBandSummary(this.bandNo)),this).then(e.bind((function(t,e,n){this._fetched=!0,this.bandIntroModel=new M,this.bandIntroModel.setAttributes(t),this.connectedPageBandList=e,this.activityBandSummary=n,this.render()}),this))},_canShowGroupBandIntro:function(){return this.bandIntroModel.canShowGroupBandIntro()||this.localBandPermission.canShowLocalBandInfo()},_isBandIntroPage:function(){return V.getCurrentRouteInfo().routeInfo===b.GROUP_BAND_INTRO},_isHeaderRequired:function(){return!!this._isBandIntroPage()||!(V.getCurrentRouteInfo().routeInfo!==m.LFG_BAND_HOME||!this.options.bandData.getSchoolInfo())},_getDayOfWeek:function(){var t=this.activityBandSummary[0].weekly_activity_map,n="en"==O.getLang()?"ddd":"dd";return e.map(t,(function(t,e){return e})).map((function(t,e){return k().day(e+1).format(n)}))},_getDayOfWeekActivity:function(){var t=this.activityBandSummary[0].weekly_activity_map;return e.map(t,(function(t){return t.visitor_count}))},_activityBandSummaryHistory:function(){return!(!this.activityBandSummary[0]||e.isEmpty(this.activityBandSummary[0])||!this.activityBandSummary[0].band_history)&&{created_date:O.format.date(this.activityBandSummary[0].band_history.created_date,"year_month"),last7days_post_count:this.activityBandSummary[0].band_history.last7days_post_count,last7days_join_member_count:this.activityBandSummary[0].band_history.last7days_join_member_count}},_activityByDaySummaryTxt:function(){if(!this.activityBandSummary[0]||e.isEmpty(this.activityBandSummary[0])||!this.activityBandSummary[0].weekly_activity_map)return"";var t=this.activityBandSummary[0].weekly_activity_map,n=e.max(t,(function(t){return t.visitor_count})).visitor_count,i=e.map(t,(function(t,e){return{visitor_count:t.visitor_count,day:e}})).filter((function(t,e){return t.dayActivityText="<strong>"+k().day(e+1).format("dddd")+"</strong>",t.visitor_count>=n}));if(0===i.length)return"";var a=e.pluck(i,"dayActivityText");return IM("band_intro.activity.summary_txt",{info:a.join(", ")})},_generateChartForBandDayStats:function(){L.bb.generate({bindto:this.getUI("bandIntroChart").selector,size:{width:496,height:225},grid:{y:{show:!0}},axis:{x:{type:"category",tick:{outer:!1},categories:this._getDayOfWeek()},y:{tick:{count:6},show:!1}},legend:{hide:!0},tooltip:{position:function(t,e,n,a){var o=i(this.mainCircle.selectAll()._parents[t[0].index]),s=o.get(0).getBoundingClientRect();return{left:parseInt(o.attr("x"))+s.width/2,top:parseInt(o.attr("y"))-23}}},point:{focus:{expand:{enabled:!1}},pattern:['<g fill="none" fill-rule="evenodd" xmlns="http://www.w3.org/2000/svg"><circle cx="6" cy="6" r="6" fill="#ff8758"/><circle cx="6" cy="6" r="3" fill="#fff"/></g>']},data:{type:"line",columns:[["cmember"].concat(this._getDayOfWeekActivity(this.activityBandSummary[0].weekly_activity_map))]},line:{classes:["line-chart"]},onrendered:function(){this.main.selectAll(".line-chart").style("stroke-width",2),this.main.selectAll(".line-chart").style("stroke","#ff8758"),this.main.selectAll(".bb-shape").style("stroke","#ff8758"),this.main.selectAll(".bb-axis-x line").style("opacity",0),this.main.selectAll(".bb-axis-x text").style("fill","#888").style("font-size","12px"),this.main.selectAll(".bb-axis-x .domain").style("stroke","#eee"),this.main.selectAll(".bb-ygrids .bb-ygrid").style("stroke-dasharray",0),this.main.selectAll(".bb-ygrids .bb-ygrid").style("stroke","#eee"),this.main.selectAll(".bb-event-rects .bb-event-rect").style("stroke","transparent"),this.main.selectAll(".bb-xgrid-focus").style("display","none")}})},_getConnectedPageBandList:function(){return!this.connectedPageBandList||this.connectedPageBandList.length<=0?[]:e.map(this.connectedPageBandList,e.bind((function(t){return{profileImage:N.makeProfileMiddleThumbnailUrl(t.band.profile_image),bandNo:t.band.band_no,memberCount:t.band.member_count,description:t.band.description,pageBandName:t.band.name,pageBandUrl:A.PAGE_BAND_HOME.makeUrl({band_no:t.band.band_no}),isMember:t.member.is_member,isMemberStateText:t.member.is_member?IM("page_band.label.subscribed"):IM("page_band.label.subscribe_short")}}),this))},_subscribePage:function(t){var n=i(t.target).data("bandno"),a=T.build({onBandJoinCompleted:e.bind((function(){i(t.target).removeClass("_subscribePage").addClass("-disabled _unsubscribePage").text(IM("page_band.label.subscribed"))}),this)});a.startJoinFromBand(n),a.destroy()},_unsubscribePage:function(t){var n=i(t.target).data("bandno");this.leavePageBandWithoutConfirmAndPageMove(n).then(e.bind((function(){i(t.target).removeClass("_unsubscribePage").addClass("-disabled _subscribePage").text(IM("page_band.label.subscribe_short"))}),this))},_showLocalBandInfo:function(){var t=this.getRegion("localBandInfoRegion");U.show(t,{bandData:this.bandData,className:"introOptionBox"})},_showUpcomingLocalMeetupScheduleList:function(){var t=this.getRegion("upcomingLocalMeetupScheduleListRegion");P.show(t,{bandData:this.bandData,isSummaryView:this.isSummaryView})},_showAttachedFileListView:function(){var t=this.getRegion("attachedFileListRegion");F.show(t,{bandData:this.bandData,bandIntroModel:this.bandIntroModel,isSummaryView:this.isSummaryView})},_showMediaList:function(){var t=this.getRegion("bandIntroMediaListRegion");S.show(t,{bandNo:this.bandNo,bandIntroModel:this.bandIntroModel,wrapperClassNames:"introPhoto gMat22 gPal2"})},_getIntroDescription:function(t){var n=s.nl2br(e.escape(t));return n=n.replace(/(<br>)+/g,"<br>"),e.isEmpty(n)||(n=s.linkTextReplace(n,f.OUTER_LINK)),n},_getBandKeywordsWithKeywordGroups:function(){var t=this.bandIntroModel.getBandKeywordsWithKeywordGroups(),n=[];return e.each(t,(function(t){n.push({keyword:t.keyword,group:t.keywordGroups[0]})})),n},_getLocation:function(){var t=this.bandData.getLocation();return t?t.name?t.name:t.address:""},_openKeywordGroup:function(t){if(!this._canOpenKeywordGroup())return!1;var e=i(t.currentTarget),n=e.data("group"),a=e.data("keyword"),o=p.GLOBAL_KEYWORD_GROUP.makeUrl({group:encodeURIComponent(n),keyword:encodeURIComponent(a)});this.jplClick(v.CLASSIFIER.KEYWORD_ITEM,{band_no:this.bandNo,keyword_id:a,keyword_group_id:n}),window.open(o,"_blank")},_canOpenKeywordGroup:function(){return u.canAccessBandSearchForGuardianship()&&u.canSearchQualificationByAge()},_openMap:function(){var t=this.bandData.getLocation(),e=t.latitude,n=t.longitude,i=r.getLargeMapUrl(e,n);return window.open(i,"_blank"),!1},_toggleMoreMenuLayer:function(){this.getUI("moreMenuLayer").toggle(),this._initCopyUrl()},_moveToModifyIntro:function(){this.trigger(H.MODIFY_INTRO)},_showBusinessIDInfo:function(){g.openDBusinessIdentificationInfoView({bandNo:this.bandNo})},_refreshBandData:function(){this.bandData.resetBandDataState(),this.bandData.loadBandData()},_reportBand:function(){I.openBandReportPopup(this.bandNo)},_initCopyUrl:function(){if(!this._bandUrlClipboard&&!this._bandIntroUrlClipboard){this._bandUrlClipboard=new B(this.getUI("btnCopyBandUrl")[0]);var t=this.bandData.getBandWebUrl();if(this._bandUrlClipboard.on("success",(function(t){alert(IM("copy_url.success"))})),this._bandUrlClipboard.on("error",(function(e){x.open(D.buildDBandAddressView(t))})),!this.bandIntroModel.isRecruiting()){this._bandIntroUrlClipboard=new B(this.getUI("btnCopyBandIntroUrl")[0]);var e=d.appendCurrentDomainOnPathUrl(b.GROUP_BAND_INTRO.makeUrl({band_no:this.bandNo}));this._bandIntroUrlClipboard.on("success",(function(t){alert(IM("copy_url.success"))})),this._bandIntroUrlClipboard.on("error",(function(t){x.open(D.buildDBandAddressView(e))}))}}}});return z.EVENT=H,z.build=function(t){return new z({bandData:t.bandData,isSummaryView:t.isSummaryView,showMoreOptionMenu:t.showMoreOptionMenu,jplSceneId:t.jplSceneId||null})},z}.call(e,n,e,t))||(t.exports=i)},1627:function(t,e,n){var i;void 0===(i=function(t){var e=n(2),i=n(0),a=n(4),o=n(489),s=n(955),r=n(559),d=(n(555),n(82)),l=n(3654),c=n(516),u=a.View.extend({attributes:{"data-viewname":"DBandUrlSetView"},template:i.template(l),ui:{inputShortcut:"._inputShortcut",textBandUrl:"._textBandUrl",btnConfirm:"._btnConfirm",btnClose:"._btnClose"},events:{"keyup @ui.inputShortcut":function(){this.ui.inputShortcut.val().trim().length>=this.minLength?this.ui.btnConfirm.removeClass("-disabled"):this.ui.btnConfirm.addClass("-disabled")},"click @ui.btnConfirm":"_btnConfirmClicked","click @ui.btnClose":"destroy"},initialize:function(t){this.bandNo=t.bandNo,this.notSaveNow=t.notSaveNow,this.urlDomain=r.BAND_SHORTCUT_URL_DOMAIN,this.maxLength=r.BAND_TYPE_CONDITION.BAND_SHORTCUT_MAX_LENGTH,this.minLength=r.BAND_TYPE_CONDITION.BAND_SHORTCUT_MIN_LENGTH},templateContext:function(){return{URL_DOMAIN:this.urlDomain,maxLengthBandShortcut:this.maxLength}},_btnConfirmClicked:function(){if(this._validateBandShortcut()){var t=e.trim(this.ui.inputShortcut.val());this.ui.textBandUrl.text(this.urlDomain+t),c.openLayer({bodyTitle:IM("bandsetting.band_shortcut.txt.description.confirm"),bodyDesc:IM("bandsetting.band_shortcut.txt.description.confirm_notice")}).once(c.EVENTS.CONFIRM,i.bind((function(){this._setBandShortcut(t)}),this))}},_setBandShortcut:function(t){if(this.notSaveNow)return this.trigger("bandUrlCreated",t),void this.destroy();d.setBandInfo({bandNo:this.bandNo,shortcut:t}).then(i.bind((function(){this.trigger("bandUrlCreated"),this.destroy()}),this)).fail(i.bind((function(e){1033==e.result_code&&confirm(e.result_data.message)&&d.setBandInfo({bandNo:this.bandNo,shortcut:t,shortcutByForce:!0}).then(i.bind((function(){this.trigger("bandUrlCreated"),this.destroy()}),this))}),this))},_validateBandShortcut:function(){var t=e.trim(this.ui.inputShortcut.val()),n=s.BAND_URL_SHORTCUT.validateBandShortcut(t);return n==s.BAND_URL_SHORTCUT.RESULT.TOO_LONG_SHORTCUT||n==s.BAND_URL_SHORTCUT.RESULT.TOO_SHORT_SHORTCUT?(alert(IM("bandsetting.band_shortcut.txt.notice2").replace("<br>","")),this.ui.inputShortcut.val(t.replace(/\s/gi,"")).focus(),!1):n!=s.BAND_URL_SHORTCUT.RESULT.WRONG_FORM||(alert(IM("bandsetting.band_shortcut.txt.notice2").replace("<br>","")),this.ui.inputShortcut.val(t.replace(/\s/gi,"")).focus(),!1)}});return u.buildAsLayer=function(t){var e=new u({bandNo:t.bandNo,notSaveNow:t.notSaveNow});return o.open(e),e},u}.call(e,n,e,t))||(t.exports=i)},1842:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(2),a=n(4),o=n(564),s=n(516),r=n(842),d=n(1018),l=n(491),c=n(559),u=n(82),h=n(164),p=n(160),b=n(157);return a.Behavior.extend({initialize:function(){this.view.leavePageBand=e.bind(this._leavePageBand,this),this.view.leavePageBandWithoutConfirmAndPageMove=e.bind(this._leavePageBandWithoutConfirmAndPageMove,this)},_leavePageBandWithoutConfirmAndPageMove:function(t){this._bandNo=t;var n=i.Deferred();return this._leaveBandWithoutForce().then(e.bind(n.resolve,this),e.bind((function(t){var a=null;switch(t.result_code){case c.LEAVE_STATE_CODE.PAGE_BAND_REQUIRE_DELEGATE:a=i.Deferred().reject(),this._alertForUnLeavableLeader();break;case c.LEAVE_STATE_CODE.LEADER_CAN_LEAVE:a=this._confirmForLeavableLeader();break;case c.LEAVE_STATE_CODE.COLEADER_CAN_LEAVE:a=this._confirmForColeader();break;case c.LEAVE_STATE_CODE.MEMBER_CAN_LEAVE:a=i.Deferred().resolve()}a.then(e.bind(this._forceLeave,this)).then((function(){n.resolve()}))}),this)),n},_leavePageBand:function(t){this._bandNo=t;var n=i.Deferred();return this._confirmWantLeaveBand().then(e.bind(this._leaveBandWithoutForce,this)).then(n.resolve,e.bind((function(t){switch(t.result_code){case c.LEAVE_STATE_CODE.PAGE_BAND_REQUIRE_DELEGATE:this._alertForUnLeavableLeader();break;case c.LEAVE_STATE_CODE.LEADER_CAN_LEAVE:this._confirmForLeavableLeader().then(e.bind(this._forceLeave,this)).then(e.bind(this._goToGlobalHome,this));break;case c.LEAVE_STATE_CODE.COLEADER_CAN_LEAVE:this._confirmForColeader().then(e.bind(this._forceLeave,this)).then(e.bind(this._goToPageHome,this));break;case c.LEAVE_STATE_CODE.MEMBER_CAN_LEAVE:this._forceLeave().then(e.bind(this._goToPageHome,this))}}),this)),n},_confirmWantLeaveBand:function(){return i.Deferred(e.bind((function(t){var e=r.openAsLayer({title:IM("pageband.band_setting.release_subscription_confirm.title"),confirm:IM("ui.label.confirm"),cancel:IM("ui.label.cancel"),description:l.nl2br(IM("pageband.band_setting.release_subscription_confirm.desc")),radioItems:[{label:IM("pageband.band_setting.release_subscription_confirm.menu.hide_from_feed"),value:"hide_from_feed"},{label:IM("pageband.band_setting.release_subscription_confirm.menu.release_subscription"),value:"release_subscription"}],initialCheckedValue:"hide_from_feed"});this.listenTo(e,"modal:confirm",(function(e){"hide_from_feed"===e?d.hideBandFromFeed(this._bandNo):t.resolve()}))}),this)).promise()},_leaveBandWithoutForce:function(){return u.leaveBand(this._bandNo,!1)},_alertForUnLeavableLeader:function(){o.openLayer({bodyTitle:l.nl2br(IM("pageband.band_setting.leave.alert.leader_leave_rejected"))})},_confirmForLeavableLeader:function(){return i.Deferred(e.bind((function(t){s.openLayer({bodyDesc:l.nl2br(IM("pageband.band_setting.leave.confirm.leader_leave"))}).once(s.EVENTS.CONFIRM,e.bind((function(){t.resolve()}),this))}),this)).promise()},_confirmForColeader:function(){return i.Deferred(e.bind((function(t){s.openLayer({bodyDesc:l.nl2br(IM("pageband.band_setting.leave.confirm.coleader_leave")),confirm:IM("pageband.band_setting.leave.confirm.coleader_leave.btn.confirm")}).once(s.EVENTS.CONFIRM,e.bind((function(){t.resolve()}),this))}),this)).promise()},_forceLeave:function(){return u.leaveBand(this._bandNo,!0).then(e.bind((function(){b.get(this._bandNo).resetBandDataState()}),this))},_goToPageHome:function(){h.PAGE_BAND_HOME.goDForced({band_no:this._bandNo})},_goToGlobalHome:function(){p.GLOBAL_HOME.goDForced()}})}.call(e,n,e,t))||(t.exports=i)},1871:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(2104),o=n(2105),s=n(1288),r=n(2106),d=n(635),l=n(522),c=n(737),u=n(489),h=n(1566),p=i.CollectionView.extend({options:{bandNo:null,photos:[],collageType:"square",maxCollageItemCount:4,total_count:void 0},tagName:"ul",attributes:function(){var t={"data-viewname":"DBandIntroAttachedMediaCollageView"},e=Math.min(this.options.total_count,this.options.maxCollageItemCount);return e>0&&(t["data-collage"]=e),t},className:function(){var t="uCollage "+{1:"-horizontal",2:"-square",3:"lineType",4:"lineType"}[this.options.photos.length];return this.options.wrapperClassNames?this.options.wrapperClassNames+" "+t:t},onDomRefresh:function(){this._childrenIndexes={};var t=Math.min(this.options.photos.length,this.options.maxCollageItemCount),n=b.itemScales[t],i=this.options.bandNo;e.each(n,(function(t,e){var n,s=this.options.photos[e];if("dynamic"===t[0])if(s.video){var d=s.video.videoId;n=new a({photoUrl:s.photo_url,width:s.width,height:s.height,isGifVideo:s.is_gif,videoPlayerModel:c.createVideoPlayerModel({videoId:d,sources:function(){return l.getVideoUrlByBandMediaId(i,d)}})})}else n=r.buildPostCardDynamicItemView({photoUrl:s.photo_url,width:s.width,height:s.height,isGifVideo:s.is_gif});else n=o.buildDPhotoCollageImageItemView({photoUrl:s.photo_url,width:s.width,height:s.height,video:!!s.video,thumbnailScale:t[0],playerIconScale:t[1],isGifVideo:s.is_gif});this._childrenIndexes[n.cid]=e,this.addChildView(n,this.options.maxCollageItemCount)}),this)},childViewEvents:function(){var t={};return t[s.OPEN_MEDIA]=function(t){this._openMediaWithImageViewer(this._childrenIndexes[t.cid])},t},_openMediaWithImageViewer:function(t){var e={result_data:{photos:this.options.photos,total_count:this.options.total_count},bandNo:this.options.bandNo,openIndex:t},n=d.buildImageViewer(e);this.listenTo(n,d.EVENT.FETCH_VIDEO_URL,(function(t,e){l.getVideoUrlByBandMediaId(this.options.bandNo,e).then((function(e){n.setVideoUrlFromAPI(e,t)}))})),u.open(n)}}),b={itemScales:{1:[["dynamic","big"]],2:[["1:1","big"],["1:1","big"]],3:[["1:1","big"],["1:1","big"],["1:1","big"]],4:[["1:1","middle"],["1:1","middle"],["1:1","middle"],["1:1","middle"]]}};return p.show=function(t,n){var i;if(i=n.bandIntroModel instanceof h?n.bandIntroModel.getPageMediaList().toJSON():n.bandIntroModel.getBandMediaList(),e.isEmpty(i))return null;if(!t)return null;t.hasView()&&t.empty();var a=new p(function(t,n,i){return{wrapperClassNames:i,bandNo:t,photos:e.map(n,(function(t){var e={height:t.data.height,width:t.data.width,photo_url:t.data.url,is_gif:t.data.isGif};return"video"===t.type&&(e.video={videoId:t.id,is_gif:t.data.isGif}),e})),total_count:n.length}}(n.bandNo,i,n.wrapperClassNames));return t.show(a),a},p}.call(e,n,e,t))||(t.exports=i)},1873:function(t,e,n){var i,a;i=[n(0),n(4),n(3542)],void 0===(a=function(t,e,n){var i=e.View.extend({tagName:"section",className:"lyWrap",attributes:{"data-viewname":"DBandAddressView"},template:t.template(n),ui:{btnClose:"._btnClose",btnDoNotClose:"._btnDoNotClose",bandAddressInput:"#bandAddressInput"},events:{"click @ui.btnClose":"destroy","click @ui.btnDoNotClose":function(){return!1}},serializeData:function(){return{bandUrl:this.options.bandUrl}},onAttach:function(){this.ui.bandAddressInput.focus().select()}});return i.buildDBandAddressView=function(t){return new i({bandUrl:t})},i}.apply(e,i))||(t.exports=a)},1874:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3543),o=n(1055),s=n(746),r=n(157),d=i.View.extend({tagName:"div",className:function(){return this.options.className||""},attributes:{"data-viewname":"DGroupBandLocalBandInfoView"},template:e.template(a),modelEvents:{change:"render"},events:{"click ._btnLocalKeyword":function(t){var e=this.model.getLocalKeywordLinkUrl();this.model.get("keywordLinkUrl")!==e&&(t.preventDefault(),PageUtil.go(e))}},initialize:function(t){this.listenTo(t.bandData,r.UPDATE_EVENT.ANY,(function(){this.model.resetAttrs()}))}});return d.show=function(t,e){var n=s.build(e.bandData);if(n.canShowLocalBandInfo()&&t){t.hasView()&&t.empty();var i=new d({model:o.build(e.bandData,n),bandData:e.bandData,className:e.className});return t.show(i),i}},d}.call(e,n,e,t))||(t.exports=i)},1875:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3548),o=n(616);return i.View.extend({tagName:"li",className:function(){var t="uFlexItem -grayBox";return this.options.isEditMode||(t+=" gMat9"),t},attributes:{"data-viewname":"DBandIntroFileListItemView"},template:e.template(a),templateContext:function(){return{isEditMode:this._isEditMode}},events:{"click ._btnDownload":function(t){t.preventDefault(),this.model.getFileUrl(this._bandNo).then(e.bind((function(t){t&&(this.model.get("isDropboxFile")?window.open(t,"_blank"):location.href=t)}),this))},"click ._btnDelete":function(t){o.isContentCreationPunished()||this.model.collection.remove(this.model)}},initialize:function(t){this._bandNo=t.bandNo,this._isEditMode=t.isEditMode}})}.call(e,n,e,t))||(t.exports=i)},2153:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(53),a=n(555),o=Backbone.Model.extend({defaults:function(){return{bandNo:null,companyName:null,representativeName:null,address:null,phone:null,email:null,registrationNo:null,mailOrderSalesNo:null}},initialize:function(t){this.set("bandNo",t.bandNo)},parse:function(t){return i.camelizeKeys(t)},isExistBusinessIDInfo:function(){return null!=this.get("registrationNo")},toApiParam:function(){return i.decamelizeKeys(this.attributes)},fetchBusinessIdentificationInfo:function(){var t=this.get("bandNo");return a.getBandBusinessRegistration(t).then(e.bind((function(n){var i=n.business_registration||{};return this.set(this.parse(e.extend({band_no:t},i))),this}),this))}});return o.buildBusinessIdentificationInfoModel=function(t){return new o(t)},o}.call(e,n,e,t))||(t.exports=i)},2154:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(53),a=n(6),o=(n(559),n(1122)),s=a.Model.extend({parse:function(t){if(e.isEmpty(t))return{};var n={type:(t=i.camelizeKeys(t)).type};t.id&&(n.id=t.id);var a=t.data;return e.isEmpty(a)&&(n.data={url:a.url,width:a.width,height:a.height},t.type===o.MEDIA.TYPE.VIDEO&&(n.data.sosId=a.sosId,n.data.isGif=a.isGif)),n},toJSONForSave:function(){var t={type:this.get("type")};if(this.get("id"))return t.id=this.get("id"),t;var e=this.get("data");return t.data={url:e.url,width:e.width,height:e.height},this.get("type")===o.MEDIA.TYPE.VIDEO&&(t.data.sos_id=e.sosId,t.data.is_gif=e.isGif),t}});return s.parseFromUploadResult=function(t){var e={};return t.isVideo||t.isGifVideo?e.type=o.MEDIA.TYPE.VIDEO:e.type=o.MEDIA.TYPE.IMAGE,e.data={url:t.url,width:t.width,height:t.height},(t.isVideo||t.isGifVideo)&&(e.data.sosId=t.id,e.data.isGif=t.isGifVideo),e},s}.call(e,n,e,t))||(t.exports=i)},3531:function(t,e){t.exports='<div class="lyContent">\n<% if (title != \'\') { %>\n    <header class="header">\n        <h1 class="title"><%= title %></h1>\n    </header>\n<% } %>\n    <div class="main">\n    <% if (descTitle != \'\') { %>\n        <p class="p"><strong><%= descTitle %></strong></p>\n    <% } %>\n        <div class="p -fs13">\n            <p class="p"><%= desc %>\n        </div>\n        <div class="selectArea">\n            <label for="desc1" class="uCheck -checkbox">\n                <input type="checkbox" id="desc1" class="checkInput _confirmCheckbox">\n                <span class="checkLabel">\n                    <span class="shape "></span>\n                    <span class="text"><%= confirmCheckboxDescription %></span>\n                </span>\n            </label>\n        </div>\n    </div>\n    <footer class="footer">\n    <% if (cancelLabel != \'\') { %>\n        <button type="button" class="uButton -cancel _btnCancel"><%= cancelLabel %></button>\n    <% } %>\n        <button type="button" class="uButton -confirm -disabled _btnConfirm"><%= confirmLabel %></button>\n    <% if (closeLabel != \'\') { %>\n        <button type="button" class="btnLyClose uButton -iconClose _btnClose"><span class="gSrOnly"><%= closeLabel %></span></button>\n    <% } %>\n    </footer>\n</div>'},3532:function(t,e){t.exports='<section class="lyWrap">\n    <div class="lyContent -w380">\n        <header class="modalHeader">\n            <h1 class="title"><%= IM("bandsetting.band_delete.title2") %></h1>\n        </header>\n\n        <div class="modalBody">\n            <div class="modalContentWrap">\n                <div class="msgWrap gPal0 gPar0">\n                    <p class="pText _closureTimeText"><%= closureTimeText %></p>\n                    <p class="pText -smallFont gMat9"><%= IM(\'bandsetting.band_delete.reservation_cancel.desc2\') %></p>\n                </div>\n            </div>\n        </div>\n\n        <footer class="modalFooter">\n            <button type="button" class="uButton -cancel _btnCancel"><%= IM("ui.label.cancel") %></button>\n            <button type="button" class="uButton -confirm _btnConfirm"><%= IM("bandsetting.band_delete.reservation_cancel.btn_label") %></button>\n        </footer>\n    </div>\n</section>'},3533:function(t,e){t.exports='<div class="lyContent" style="width: 450px">\n\n    <header class="modalHeader -high">\n        <h1 class="title">사업자 정보 <% if ( bandName ) { %><p class="titleDesc"><%- bandName %></p><% } %></h1>\n<% if ( showOption ) { %>\n        <div class="moreMenuWrap">\n            <button class="btnMoreMenu _menuBtn">메뉴</button>\n            <div class="menuBox _menuBoxDiv" style="display: none;">\n                <ul class="menuList">\n                    <li class="menuItem">\n                        <button class="btnMenuText _updateBusinessIDInfoBtn">수정하기</button>\n                    </li>\n                    <li class="menuItem">\n                        <button class="btnMenuText _deleteBusinessIDInfoBtn">삭제하기</button>\n                    </li>\n                </ul>\n            </div>\n        </div>\n<% } %>\n    </header>\n\n    <div class="modalBody">\n        <div class="modalContentWrap gMat-1">\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">상호명</label>\n                <div class="pText -smallFont"><%- companyName %></div>\n            </div>\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">대표자 성명</label>\n                <div class="pText -smallFont"><%- representativeName %></div>\n            </div>\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">주소</label>\n                <div class="pText -smallFont"><%- address %></div>\n            </div>\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">전화</label>\n                <div class="pText -smallFont"><%- phone %></div>\n            </div>\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">메일</label>\n                <div class="pText -smallFont"><%- email %></div>\n            </div>\n\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">사업자 등록번호</label>\n                <div class="pText -smallFont"><%- registrationNo %></div>\n            </div>\n\n            <% if (mailOrderSalesNo) { %>\n            <div class="flexList -tLine -minH47">\n                <label class="bizTitle">통신판매 신고번호</label>\n                <div class="pText -smallFont"><%- mailOrderSalesNo %></div>\n            </div>\n            <% } %>\n        </div>\n    </div>\n\n    <div class="modalFooter -tLine">\n        <%\n            var displayTerm = showBandTermAsPage ? \'페이지 운영자\' : \'밴드 리더\';\n        %>\n        <div class="attendText gMat-10 gMab20">위 정보는 <%- displayTerm %>가 등록한 정보입니다.</div>\n        <button type="button" class="uButton _closeButton">확인</button>\n    </div>\n\n</div>'},3534:function(t,e){t.exports='<div class="lyContent" style="width: 450px">\n    <header class="modalHeader">\n        <h1 class="title"><%- title %> <% if (showBandName) { %><p class="titleDesc"><%- bandName %></p><% } %></h1>\n\n<% if ( showOption ) { %>\n        <div class="moreMenuWrap">\n            <button class="btnMoreMenu _menuBtn">메뉴</button>\n            <div class="menuBox _menuBoxDiv" style="display: none;">\n                <ul class="menuList">\n                    <li class="menuItem">\n                        <button class="btnMenuText _deleteBusinessIDInfoBtn">삭제하기</button>\n                    </li>\n                </ul>\n            </div>\n        </div>\n<% } %>\n    </header>\n\n    <div class="modalBody">\n        <div class="formWrap">\n            <div class="labelLow gMat-5">\n                <label class="bizTitle">상호명</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _companyNameInput" placeholder="상호명을 입력하세요." value="<%- companyName %>" maxlength="30">\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle">대표자 성명</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _representativeNameInput" placeholder="대표자성명을 입력하세요." value="<%- representativeName %>" maxlength="20">\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle  gMat-35">주소</label>\n                <div class="uTextarea" style="height:70px">\n                    <textarea class="_inputArea _addressInput" placeholder="주소를 입력하세요."><%- address %></textarea>\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle">전화</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _phoneInput" placeholder="전화번호를 입력하세요." value="<%- phone %>" maxlength="20">\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle">메일</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _emailInput" placeholder="예) band@band.us" value="<%- email %>" maxlength="60">\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle">사업자 <br>등록번호</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _registrationNo" placeholder="예) 111-22-33333" value="<%- registrationNo %>" maxlength="20">\n                    <span class="border"></span>\n                </div>\n            </div>\n\n            <div class="labelLow gMat10">\n                <label class="bizTitle">통신판매<br>신고번호</label>\n                <div class="uInput" style="height:40px">\n                    <input type="text" class="_inputArea _mailOrderSalesNoInput" placeholder="예) 제2018-경기성남-11111호" value="<%- mailOrderSalesNo %>" maxlength="40">\n                    <span class="border"></span>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modalFooter -tLine">\n        <button type="button" class="uButton -cancel _cancelButton">취소</button>\n        <button type="button" class="uButton _saveButton" disabled>저장</button>\n    </div>\n</div>'},3535:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=(n(157),n(3536)),o=n(489),s=i.View.extend({tagName:"section",className:"lyWrap ",attributes:{"data-viewname":"DPersonalInfoCollectingForBusinessView"},template:e.template(a),ui:{collectingAgreeCheckInput:"._collectingAgreeCheckInput",saveButton:"._saveButton",closeButton:"._closeButton"},templateContext:function(){var t=!!(this.options&&this.options.bandData&&this.options.bandData.getBandCore())&&this.options.bandData.getBandCore().showBandTermAsPage();return{cid:this.cid,showBandTermAsPage:t}},events:{"click @ui.collectingAgreeCheckInput":function(){this.ui.saveButton.prop("disabled",!1)},"click @ui.closeButton":function(){this.trigger(s.CLOSE_COLLECTING_PERSONAL_INFO_EVENT),this.destroy()},"click @ui.saveButton":function(){this.ui.collectingAgreeCheckInput.is(":checked")?this.destroy():alert("개인정보 수집 및 이용에 관한 동의가 필요합니다.")}}});return s.CLOSE_COLLECTING_PERSONAL_INFO_EVENT="closeCollectingPersonalInfo",s.openDPersonalInfoCollectingForBusinessView=function(t){var e=new s({bandData:t.bandData});return o.openWithoutHiding(e),e},s}.call(e,n,e,t))||(t.exports=i)},3536:function(t,e){t.exports='<div class="lyContent -w360">\n    <header class="modalHeader">\n        <h1 class="title">개인정보 수집 및 이용 시 동의 안내</h1>\n    </header>\n\n    <%\n        var displayTerm = showBandTermAsPage ? \'페이지\' : \'밴드\';\n    %>\n    <div class="modalBody">\n        <div class="msgWrap gMat-2">\n            <p class="pText">사업자 정보를 <%- displayTerm %>에 등록하기 위해서는 아래와 같이 개인정보 수집 및 이용이 발생합니다. 입력하신 정보는 <%- displayTerm %>에 공개됩니다.</p>\n        </div>\n        <div class="msgWrap  gMat-4">\n            <div class="modalFlex">\n                <div class="flexItemTitle">수집 항목</div>\n                <div class="flexItemText">이름, 주소, 전화번호, 이메일 주소</div>\n            </div>\n            <div class="modalFlex gMat10">\n                <div class="flexItemTitle">수집 목적</div>\n                <div class="flexItemText"><%- displayTerm %> 내 상거래 활동을 위한 사업자 <br/>표시 의무 준수 </div>\n            </div>\n            <div class="modalFlex gMat10">\n                <div class="flexItemTitle">보유 기간</div>\n                <div class="flexItemText"><%- displayTerm %> 삭제 시 파기\n                    <p class="pText -smallFont -lightGray gMat3">단, 관계법령 외 규정에 의하여 보전할 필요가 있는 경우에 관련 규정에 따라 일정 기간 동안 개인 정보를 보관합니다.</p>\n                </div>\n            </div>\n        </div>\n        <div class="msgWrap gMat-5">\n            <div class="selectArea">\n                <label for="desc_<%- cid %>" class="uCheck -checkbox ">\n                    <input type="checkbox" id="desc_<%- cid %>" class="checkInput _collectingAgreeCheckInput">\n                    <span class="checkLabel">\n                        <span class="shape "></span>\n                        <span class="text">개인정보 수집 및 이용에 동의합니다.</span>\n                    </span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <footer class="modalFooter -tLine gMat14">\n        <button type="button" class="uButton -cancel _closeButton">취소</button>\n        <button type="button" class="uButton -confirm _saveButton">저장</button>\n    </footer>\n</div>'},3537:function(t,e){t.exports='<div class="lyContent" style="width:440px">\n    <header class="modalHeader">\n        <h1 class="title"><%= IM(\'bandsetting.keyword.title2\') %></h1>\n    </header>\n    <div class="modalBody">\n        <div class="setKeyword">\n            <div class="titleWrap">\n                <h2 class="title"><%= guideTitle %></h2>\n                <p class="desc"><%= IM("bandsetting.keyword.guide_desc") %></p>\n            </div>\n            <div class="selectedKeywords">\n                <button type="button" class="addKeyword _btnAddKeywords" style="<%= hasSelectedKeyword ? \'display:none;\' : \'\' %>">\n                    <span class="addKeywordText"><%= IM(\'bandsetting.keyword.menu.select_keyword\') %></span>\n                </button>\n                <div class="_selectedKeywordListRegion"></div>\n            </div>\n        </div>\n        <% if (hasSelectedKeyword) { %>\n        <div class="keywordSearchArea">\n            <button type="button" class="keywordSearchButton _btnAddMoreKeywords">\n                <span class="keywordButtonLabel"><%= IM(\'bandsetting.keyword.menu.add_more_keywords\') %></span>\n            </button>\n        </div>\n        <% } %>\n    </div>\n    <footer class="modalFooter -tLine">\n        <button type="button" class="uButton -cancel _btnCancel"><%= IM(\'ui.label.cancel\') %></button>\n        <button type="button" class="uButton -confirm _btnConfirm" disabled><%= IM(\'ui.label.confirm\') %></button>\n    </footer>\n</div>'},3538:function(t,e){t.exports='<% if (subTitle) { %>\n<h3 class="subTitle"><%- subTitle %></h3>\n<% } else { %>\n<h3 class="gSrOnly"><%= IM(\'groupband.band_intro.media.hidden_title\') %></h3>\n<% } %>\n\n<div class="_mediaUploader" style="position:absolute;visibility:hidden;">\n    <label for="photo_" class="inputLabel"><span class="gSrOnly"><%= IM("ui.label.upload_photo") %></span></label>\n    <input type="file" id="photo_" class="inputFile">\n</div>\n\n<div class="_mediaListRegion"></div>'},3539:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3540),o=n(1122),s=i.View.extend({tagName:"li",className:"photoItem",template:e.template('<button type="button" class="inputLabel _btnUpload"><span class="gSrOnly"><%= IM("ui.label.upload_photo") %></span></button>'),events:{"click ._btnUpload":function(t){this.trigger("upload")}}});return i.CollectionView.extend({tagName:"ul",className:"photoList -flexLayout",attributes:{"data-viewnmae":"DBandIntroEditMediaListCollectionView"},childView:a,childViewTriggers:{upload:"upload"},collectionEvents:{add:function(t,e,n){var i=this.children.find((function(t){return t instanceof s}));this.removeChildView(i)},remove:function(t,e,n){this.addChildView(new s,this.children.length)}},onAttach:function(){this._fillUploadButtonView()},_fillUploadButtonView:function(){var t=o.MEDIA.MAX_COUNT-this.children.length;if(!(t<=0))for(var e=0;e<t;e++)this.addChildView(new s,this.children.length)}})}.call(e,n,e,t))||(t.exports=i)},3540:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(81),o=n(1035),s=n(1122),r=n(616);return i.View.extend({tagName:"li",className:function(){var t=["photoItem"];return this.model.get("data").isGif?t.push("gif"):this.model.get("type")===s.MEDIA.TYPE.VIDEO&&t.push("player"),t.join(" ")},template:e.template('<div class="inputLabel">\n    <img src="<%- thumbnailUrl %>" alt="" class="inputThumb _attachedMedia">\n    <button type="button" class="buttonClose _btnDelete"><span class="gSrOnly"><%= IM("ui.label.delete") %></span></button>\n</div>'),templateContext:function(){return{thumbnailUrl:a.make(this.model.get("data").url,a.TYPE.s75)}},ui:{attachedMedia:"._attachedMedia",btnDelete:"._btnDelete"},events:{"click @ui.btnDelete":function(t){r.isContentCreationPunished()||this.model.collection.remove(this.model)}},onRender:function(){this._setImageLoadingAndRetry()},_setImageLoadingAndRetry:function(){this.getUI("attachedMedia")&&$(this.getUI("attachedMedia")).setLoading({tag:o.html(o.Size.MEDIUM,o.MiddleClass.AREA_VERTICAL_MIDDLE)})}})}.call(e,n,e,t))||(t.exports=i)},3541:function(t,e){t.exports='<% if (showHeader) { %>\n<div class="uHeaderWrap <% if(isRecruiting) { %>-waitingBand -bLineNone<% } else { %>-h50 -bgWhite<% } %>">\n    <header class="header">\n        <h1 class="title"><%= IM("groupband.band_intro_description.title") %></h1>\n    </header>\n</div>\n<% } %>\n\n<% if(showMoreOptionMenu && (canReportBand || isPermittedManageDescription)) { %>\n<div class="postFunction">\n    <button type="button" class="postSet _btnMore"><span class="gSrOnly"><%= IM("groupband.band_setting.more_option") %></span></button>\n    <div class="lyMenu _moreMenuLayer" style="display:none; min-width:130px">\n        <ul>\n            <% if (isPermittedManageDescription) { %>\n            <li><a href="#" role="button" class="_btnModifyIntro"><%= IM("ui.label.modify_long") %></a></li>\n            <% } %>\n            <% if(canReportBand) { %>\n            <li><a href="#" role="button" class="_reportBand"><%= IM("ui.label.report") %></a></li>\n            <% } %>\n            <li><a href="#" role="button" class="_btnCopyBandUrl" data-clipboard-text="<%= bandWebUrl %>"><%= IM("copy.band_web.url") %></a></li>\n            <% if(!isRecruiting) { %>\n            <li><a href="#" role="button" class="_btnCopyBandIntroUrl" data-clipboard-text="<%= bandIntroUrl %>"><%= IM("copy.band_intro.url") %></a></li>\n            <% } %>\n        </ul>\n    </div>\n</div>\n<% } %>\n\n<% if (canShowGroupIntro) { %>\n    <% //min-height가 필요한 곳에서는 -isMinHeight클래스 추가해주세요. %>\n    <div class="cBandIntro <% if(isRecruiting) { %>-waitingBand<% } else { %>-more<% } %>">\n        <h2 class="cBandIntroTitle"><%= IM("groupband.band_intro_description.title") %></h2>\n\n        \x3c!-- 지역 소모임 정보 영역  --\x3e\n        <% if (showLocalBandInfo) { %>\n        <div class="introOptionLocalGroup">\n            <h3 class="introSubTitle"><%= IM(\'groupband.band_intro.local_band_info.title\') %></h3>\n            <div class="_localBandInfoRegion"></div>\n        </div>\n        <% } %>\n\n        <% // 소개말 %>\n        <% if (introDescription || (!hasRegion && !_.isEmpty(bandKeywordsWithKeywordGroups))) { %>\n        <div class="cBandIntroDetail">\n            <% if (introDescription) { %>\n            <p class="desc gPal2"><%= introDescription %></p>\n            <% } %>\n\n            <% // 키워드 %>\n            <% if (!hasRegion && !_.isEmpty(bandKeywordsWithKeywordGroups)) { %>\n            <div class="introOption <%= (introDescription) ? \'gMat18\': \'gMat0\' %>">\n                <div class="introOptionBox">\n                    <ul class="selectedKeywordList">\n                        <% _.each(bandKeywordsWithKeywordGroups, function(item) { %>\n                        <li class="selectedKeywordItem -selectedItem">\n                            <% if (canOpenKeywordGroup) { %>\n                            <button type="button" class="introOptionLink gFs12 _btnBandKeyword" data-group="<%- item.group %>" data-keyword="<%- item.keyword %>"><%- item.keyword %></button>\n                            <% } else { %>\n                            <span class="introOptionLink gFs12"><%- item.keyword %></span>\n                            <% } %>\n                        </li>\n                        <% }); %>\n                    </ul>\n                </div>\n            </div>\n            <% } %>\n        </div>\n        <% } %>\n\n        \x3c!-- 사진/동영상 --\x3e\n        <div class="_bandIntroMediaListRegion"></div>\n\n        <% //7.8.0 이후 대기밴드에도 노출되어야 함. %>\n        <% if(getSchoolInfo) { %>\n        <div class="introOption gPal2">\n            <div class="introOptionBox">\n                <div class="schoolGradeText"><span class="newSchoolInfo"><%- getSchoolInfo %></span></div>\n            </div>\n        </div>\n        <% } %>\n\n        \x3c!-- 지도 (위치) --\x3e\n        <% if (!!bandLocation) { %>\n        <div class="introOption gPal2">\n            <div class="introOptionBox">\n                <div class="addressText"><a href="#" class="introOptionLink _bandLocation"><%- bandLocation %></a></div>\n            </div>\n        </div>\n        <% } %>\n\n        \x3c!-- 사업자 정보 --\x3e\n        <% if ( canShowBusinessIdentificationInfo ) { %>\n        <div class="introOption gPal2">\n            <div class="introOptionBox">\n                <div class="registrationText gMat-3">사업자등록번호 <%- businessRegistrationNo  %><button type="button" class="iconButton _showBusinessIDInfoButton"><span class="gSrOnly">사업자등록정보 보기</span></button></div>\n            </div>\n        </div>\n        <% } %>\n\n        \x3c!-- 다가오는 공개정모 --\x3e\n        <div class="_upcomingLocalMeetupScheduleListRegion"></div>\n\n        \x3c!-- 첨부 파일 --\x3e\n        <div class="_attachedFileListRegion"></div>\n\n        \x3c!-- 밴드소개 상세만 : 밴드 활동 정보 통계 --\x3e\n        <% if((!isSummaryView && !!bandHistory) || (!!bandHistory && canShowGroupBandMainActivitySummary)) { %>\n        <div class="introOptionStatisticsWrap gMat20 gMal2 gMar2 gPat22">\n            <h2 class="introSubTitle"><%= IM("band_intro.activity.info.title") %></h2>\n            <div class="introInfoWrap gMat10">\n                <p class="introDesc"><%= IM("band_intro.activity.create_date") %> <span class="introDescData"><%= bandHistory.created_date %></span></p>\n                <p class="introDesc"><%= IM("band_intro.activity.new_post") %> <span class="introDescData"><em><%= bandHistory.last7days_post_count %></em> <%= IM("band_intro.activity.text_word.case") %></span></p>\n                <p class="introDesc"><%= IM("band_intro.activity.new_join") %> <span class="introDescData"><em><%= bandHistory.last7days_join_member_count %></em> <%= IM("band_intro.activity.text_word.person") %></span></p>\n            </div>\n            <div class="introStatsSummary"><%= activityByDaySummaryTxt %></div>\n\n            <div class="statsChartWrap -summaryChart _bandIntroChart"></div>\n        </div>\n        <% } %>\n\n        \x3c!-- 밴드소개 상세만 : 연결된 페이지 보기 --\x3e\n        <% if(!isSummaryView && connectedPageBandList.length > 0) { %>\n        <div class="introPageWrap gMat18 gMal2 gMar2 gPat22">\n            <h2 class="introSubTitle"><%= IM("group_band.summary.connected_page.title") %></h2>\n            <ul class="cCoverList gMat18">\n                <% _.map(connectedPageBandList, function(pageBand){ %>\n                <li class="cCoverItem">\n                    \x3c!-- [D]home/discovery 참고 --\x3e\n                    <div class="bandUri">\n                        <div class="cover">\n                            <div class="uCoverImage -w80 -border -circle">\n                                    <span class="coverInner">\n                                        <img src="<%= pageBand.profileImage %>" class="coverImg" alt="">\n                                    </span>\n                            </div>\n                        </div>\n                        <div class="bandName">\n                            <div class="name">\n                                <a href="<%= pageBand.pageBandUrl %>" class="text" target="_blank">\n                                    <%= pageBand.pageBandName %>\n                                </a>\n                            </div>\n                            <p class="pSubTxt "><%= pageBand.description %></p>\n                            <button type="button" class="btnPageSubscription <% if(pageBand.isMember) { %>-disabled _unsubscribePage<% } else { %>_subscribePage<% } %>" data-bandno="<%= pageBand.bandNo %>"><%= pageBand.isMemberStateText %></button>\n                            <div class="readMember">\n                                <span class="total"><% IM("global_search.subscribing_number_html", {count:  pageBand.memberCount}) %></span>\n                            </div>\n                        </div>\n                    </div>\n                    <a href="#" class="bandLink"><span class="gSrOnly">바로가기</span></a>\n                </li>\n                <% }) %>\n            </ul>\n        </div>\n        <% } %>\n\n        <% if(isSummaryView && !isRecruitingBand) { %>\n        <div class="introMoreBtnWrap gMat25">\n            <button type="button" class="buttonIntroMore _goBandIntro"><%= IM("band_intro.go_band_intro.text") %></button>\n        </div>\n        <% } %>\n\n    </div>\n<% } %>\n\n<% // 헤더가 있는 소개페이지이며, 대기밴드 아니고, 밴드에 가입했고, 밴드소개 없는 상태 %>\n<% if(!isSummaryView && !isRecruiting && canShowGroupBandIntroDescriptionAndDoAction && !canShowGroupIntro) { %>\n<div class="gBoxShadow uEmpty gMat-18" style="height: 547px">\n    <div>\n        <p class="uEmptyDesc"><%- IM("band.intro.empty") %></p>\n    </div>\n</div>\n<% } %>\n\n<% // 헤더가 있는 소개페이지이며, 대기밴드 아니고, 밴드에 가입 안했고, 밴드소개 없는 상태 %>\n<% if(!isSummaryView && !isRecruiting && !canShowGroupBandIntroDescriptionAndDoAction && !canShowGroupIntro) { %>\n<div class="gBoxShadow uEmpty gMat-18" style="height: 547px">\n    <div>\n        <p class="uEmptyDesc"><%- IM("band.intro.empty") %></p>\n    </div>\n</div>\n<% } %>\n\n<% //대기밴드이고, 밴드에 가입했고, 밴드소개 편집 권한이 없고, 밴드소개 등록되지 않은 상태 %>\n<% if(isRecruiting && canShowGroupBandIntroDescriptionAndDoAction && !isPermittedManageDescription && !canShowGroupIntro) { %>\n<div class="gBoxShadow uEmpty gMat-18" style="height: 547px">\n    <div>\n        <p class="uEmptyDesc"><%= IM("band.intro.try.join_chat") %></p>\n    </div>\n</div>\n<% } %>\n\n<% // 대기밴드이고, 밴드에 가입했고, 밴드소개 편집 권한이 있는 상태 %>\n<% if(isRecruiting && canShowGroupBandIntroDescriptionAndDoAction && isPermittedManageDescription && !canShowGroupIntro) { %>\n<div class="gBoxShadow uEmpty gMat-18" style="height: 547px">\n    <a href="#" class="_btnModifyIntro">\n        <span class="uEmptyIcon -first"></span>\n        <strong class="uEmptyTitle"><%- IM("band.intro.empty2") %></strong>\n        <p class="uEmptyDesc"><%= IM("band.intro.empty3") %></p>\n    </a>\n</div>\n<% } %>\n\n<% // 대기밴드이고, 밴드에 가입 하지 않았고, 밴드소개 등록되지 않은 상태 %>\n<% if(isRecruiting && !canShowGroupBandIntroDescriptionAndDoAction && !canShowGroupIntro) { %>\n<div class="gBoxShadow uEmpty gMat-18" style="height: 547px">\n    <div>\n        <p class="uEmptyDesc"><%= IM("band.intro.try.join_chat") %></p>\n    </div>\n</div>\n<% } %>'},3542:function(t,e){t.exports='<div class="lyContent -w360">\n    <header class="header">\n        <h1 class="title"><%-IM(\'band_address\')%></h1>\n    </header>\n\n    <div class="main">\n        <p class="p"><%- IM("copy_url.label.try_copy_to_paste") %></p>\n\n        <div class="p -tSpace">\n            <div class="uInput">\n                <label class="gSrOnly" for="bandAddressInput"><%-IM(\'band_address\')%></label>\n                <input type="text" id="bandAddressInput" readonly="readonly" value="<%- bandUrl %>">\n                <span class="border"></span>\n            </div>\n        </div>\n    </div>\n\n    <footer class="footer">\n        <button type="button" class="uButton _btnClose"><%-IM(\'web.ui.button.label.close\')%></button>\n    </footer>\n</div>\n'},3543:function(t,e){t.exports='\x3c!-- 주제 선택 --\x3e\n<% if (showRegionAndKeyword) { %>\n<ul class="selectedKeywordList">\n    <li class="selectedKeywordItem -selectedItem">\n        <% if (!!regionLinkUrl) { %>\n        <a href="<%- regionLinkUrl %>" target="_blank" type="button" class="keywordButton">\n            <span class="iconLocal"></span><%- region.name %>\n        </a>\n        <% } else { %>\n        <span><%- region.name %></span>\n        <% } %>\n    </li>\n    <% if (!!keyword) { %>\n    <li class="selectedKeywordItem -selectedItem">\n        <% if (!!keywordLinkUrl) { %>\n        <a href="<%- keywordLinkUrl %>" target="_blank" type="button" class="keywordButton _btnLocalKeyword">\n            <%- keyword.keyword %>\n        </a>\n        <% } else { %>\n        <span><%- keyword.keyword %></span>\n        <% } %>\n    </li>\n    <% } %>\n</ul>\n<% } %>\n\x3c!-- 가입 조건 --\x3e\n<% if (!!joinConditionLabel) { %>\n<div class="introJoinCondition">\n    <%= IM(\'local_band.label.member_condition\') %>:\n    <% if (!!joinConditionLabel.gender) { %><em class="gender"><%= joinConditionLabel.gender %></em><% } %>\n    <% if (!!joinConditionLabel.yearOfBirthday) { %><em class="age"><%= joinConditionLabel.yearOfBirthday %></em><% } %>\n</div>\n<% } %>'},3544:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3545),o=n(508),s=n(553),r=n(165),d=n(9),l=n(2048),c=n(1016),u=n(746),h=i.View.extend({tagName:"div",className:"introPublicSchedule gPal2",attributes:{"data-viewname":"DUpcomingLocalMeetupScheduleListView"},template:e.template(a),templateContext:function(){var t=this._upcomingLocalMeetupScheduleListCollection.at(0);return{isSummaryView:this._isSummaryView,scheduleCount:this._upcomingLocalMeetupScheduleCount,firstScheduleName:t.getName(),firstScheduleId:t.getScheduleId()}},regions:{upcomingMeetupScheduleListRegion:{el:"._upcomingMeetupScheduleListRegion",replaceElement:!0}},events:{"click ._btnOpenDetailLayer":function(t){var e=this._bandData.getBandCore().bandNo,n=$(t.currentTarget).data("scheduleId");c.openScheduleDetailLayerView({showBandNameTitle:!1,bandNo:e,scheduleId:n})}},initialize:function(t){this._bandData=t.bandData,this._isSummaryView=t.isSummaryView,this._upcomingLocalMeetupScheduleCount=t.upcomingLocalMeetupScheduleCount,this._upcomingLocalMeetupScheduleListCollection=t.upcomingLocalMeetupScheduleListCollection},onAttach:function(){this._showUpcomingLocalMeetupScheduleList()},_showUpcomingLocalMeetupScheduleList:function(){if(!this._isSummaryView){var t=new b({collection:this._upcomingLocalMeetupScheduleListCollection});this.showChildView("upcomingMeetupScheduleListRegion",t)}}}),p=i.View.extend({tagName:"li",className:"scheduleListItem",template:e.template('<time class="date" datetime="<%= date %>">\n    <span><%= day %> <em><%= dayName %></em></span>\n</time>\n<div class="_scheduleEventItemRegion"></div>'),templateContext:function(){return{date:d.format.date(this._scheduleDate,"short_noweekday"),day:this._scheduleDate.format("D"),dayName:this._scheduleDate.format("dddd")}},regions:{scheduleEventItemRegion:{el:"._scheduleEventItemRegion",replaceElement:!0}},events:{click:"_openScheduleDetailLayer"},initialize:function(){this._scheduleDate=this.model.getStartAtMoment().tz(r.getCurrentTimezoneId())},onAttach:function(){this._showScheduleEventItem()},_showScheduleEventItem:function(){var t=new l({model:this.model,scheduleDate:this._scheduleDate,scheduleType:l.SCHEDULE_TYPE.UPCOMING_LOCAL_MEETUP_SCHEDULE});this.listenTo(t,"openSchedule",this._openScheduleDetailLayer),this.showChildView("scheduleEventItemRegion",t)},_openScheduleDetailLayer:function(){c.openScheduleDetailLayerView({showBandNameTitle:!1,bandNo:this.model.getBandNo(),scheduleId:this.model.getScheduleId()})}}),b=i.CollectionView.extend({tagName:"ul",className:"dailyScheduleList",childView:p});return h.show=function(t,n){if(u.build(n.bandData).canShowUpcomingLocalBandMeetupSchedule()&&t){t.hasView()&&t.empty();var i=n.bandData.getBandCore().bandNo;return o.getUpcomingLocalMeetupSchedules(i).then(e.bind((function(i){if(!i||e.isEmpty(i.items))return null;var a=new Backbone.Collection(i.items,{model:s,parse:!0}),o=new h({bandData:n.bandData,isSummaryView:n.isSummaryView,upcomingLocalMeetupScheduleCount:i.count,upcomingLocalMeetupScheduleListCollection:a});return t.show(o),o}),this))}},h}.call(e,n,e,t))||(t.exports=i)},3545:function(t,e){t.exports='<h3 class="introSubTitle">\n    <%= IM(\'local_band.upcoming_meetup_schedules.title\') %>\n    <% if (isSummaryView) { %><span class="sf_color"><%= scheduleCount %></span><% } %>\n</h3>\n<% if (isSummaryView) { %>\n<ul class="cFileList gMat7">\n    <li class="uFlexItem -grayBox gPat14 gPab14 gPal19 gPar19">\n        <span class="thumb -schedul-s gMat1 gMar12"></span>\n        <span class="body">\n            <a href="#" class="text -ellipsis _btnOpenDetailLayer" data-schedule-id="<%= firstScheduleId %>"><%- firstScheduleName %></a>\n        </span>\n    </li>\n</ul>\n<% } %>\n<div class="_upcomingMeetupScheduleListRegion"></div>\n\n'},3546:function(t,e,n){var i;void 0===(i=function(t){var e=n(0),i=n(4),a=n(3547),o=n(1025),s=n(491),r=n(1875),d=n(552),l=i.View.extend({tagName:"div",className:"introOptionFile gMat18 gMal2 gMar2 gPat24",attributes:{"data-viewname":"DBandIntroFileListView"},template:e.template(a),templateContext:function(){var t=this._fileListCollection.at(0);return{isSummaryView:this._isSummaryView,title:this._isSummaryView?IM("band_intro.upload_file.title2"):IM("band_intro.upload_file.title"),fileCount:this._fileListCollection.length,fileDesc:this._getFileDescription(),firstFileName:t.get("fileName")}},regions:{fileListRegion:{el:"._fileListRegion",replaceElement:!0}},events:{"click ._btnDownloadFirstFile":function(t){t.preventDefault();var e=this._fileListCollection.at(0);e.getFileUrl(this._bandNo).then((function(t){t&&(e.get("isDropboxFile")?window.open(t,"_blank"):location.href=t)}))}},initialize:function(t){this._bandData=t.bandData,this._bandNo=this._bandData.getBandCore().bandNo,this._fileDesc=t.fileDesc,this._fileListCollection=t.fileListCollection,this._isSummaryView=t.isSummaryView},onRender:function(){this._showFileListView()},_getFileDescription:function(){var t=s.nl2br(e.escape(this._fileDesc));return t=t.replace(/(<br>)+/g,"<br>"),e.isEmpty(t)||(t=s.linkTextReplace(t,d.OUTER_LINK)),t},_showFileListView:function(){if(!this._isSummaryView&&!this._fileListCollection.isEmpty()){var t=new i.CollectionView({tagName:"ul",className:"cFileList gMat13",childView:r,childViewOptions:function(t,e){return{bandNo:this.options.bandNo,isEditMode:!1}},collection:this._fileListCollection,bandNo:this._bandNo});this.showChildView("fileListRegion",t)}}});return l.show=function(t,e){if(t){t.hasView()&&t.empty();var n=e.bandIntroModel.get("bandFiles").fileList,i=e.bandIntroModel.get("bandFiles").dropboxList,a=o.buildFromBandIntroFiles(n,i);if(!a.isEmpty()){var s=new l({bandData:e.bandData,fileDesc:e.bandIntroModel.getBandIntroFilesDescription(),fileListCollection:a,isSummaryView:e.isSummaryView});return t.show(s),s}}},l}.call(e,n,e,t))||(t.exports=i)},3547:function(t,e){t.exports='<h2 class="introSubTitle">\n    <%= title %> <% if (isSummaryView) { %><span class="sf_color"><%= fileCount %></span><% } %>\n</h2>\n\n<% if (!isSummaryView) { %>\n<div class="introDesc gMat6"><%= fileDesc %></div>\n<% } %>\n\n\x3c!-- 밴드 소개 첨부 파일 목록 (축약형 뷰) --\x3e\n<% if(isSummaryView) { %>\n<ul class="cFileList gMat7">\n    <li class="uFlexItem -grayBox gPat14 gPab14 gPal19 gPar19">\n        <span class="thumb -file-s gMat1 gMar12"></span>\n        <span class="body">\n            <a href="#" class="text -ellipsis _btnDownloadFirstFile"><%- firstFileName %></a>\n        </span>\n    </li>\n</ul>\n<% } %>\n\n<div class="_fileListRegion"></div>\n\n\n\n'},3548:function(t,e){t.exports='<span class="thumb <%= fileTypeIcon %>-s"></span>\n<span class="body">\n    <a href="#" class="text -ellipsis _btnDownload"><%- fileName %></a>\n    <span class="subText -ellipsis">\n        <% if (isDropboxFile) { %>\n        <span>Dropbox</span>\n        <% } else { %>\n        <span><%= fileSizeText %></span><span><%= uploadedAtText %></span>\n        <% } %>\n    </span>\n</span>\n<% if (isEditMode) { %>\n<span class="etc">\n    <button class="uButton -sizeS -confirm2 _btnDelete"><%= IM("ui.label.delete") %></button>\n</span>\n<% } else if (!isDropboxFile) { %>\n<span class="etc">\n    <a href="#" class="download _btnDownload"><span class="gSrOnly">download</span></a>\n</span>\n<% } %>'},3654:function(t,e){t.exports='<section class="lyWrap">\n    <div class="lyContent -w360">\n        <header class="header">\n            <h1 class="title"><%= IM("band_address") %></h1>\n        </header>\n        <div class="main">\n            <div>\n                <div class="p -tSpace -bLine">\n                    <div class="uInputTableWrap">\n                        <label for="bigBandURL" class="uInputLabel -h38 gWsNr">\n                            <span class="gSrOnly"><%= IM("band_address") %> : </span>\n                            <%= URL_DOMAIN %>\n                        </label>\n                        <div class="uInput -h38">\n                            <input class="_inputShortcut" type="text" id="bigBandURL" placeholder="URL" maxlength="<%= maxLengthBandShortcut %>">\n                            <span class="border"></span>\n                        </div>\n                    </div>\n                </div>\n                <p class="title -sub"><%= IM("bandsetting.band_shortcut.txt.notice.title") %></p>\n                <ul class="p -fs13 -dotList">\n                    <li><%= IM("bandsetting.band_shortcut.txt.notice2") %></li>\n                    <li><%= IM("bandsetting.band_shortcut.txt.notice3") %></li>\n                    <li><%= IM("bandsetting.band_shortcut.txt.notice4") %></li>\n                </ul>\n            </div>\n        </div>\n        <footer class="footer">\n            <div class="btnArea4">\n                <button type="button" class="_btnClose uButton -cancel"><%= IM("ui.label.cancel") %></button>\n                <button type="button" class="_btnConfirm uButton -disabled"><%= IM("ui.label.confirm") %></button>\n            </div>\n        </footer>\n    </div>\n</section>'},746:function(t,e,n){var i;void 0===(i=function(t){n(0);var e=n(4),i=n(13),a=(n(9),n(160),e.Object.extend({initialize:function(t){this._bandData=t.bandData},canManageLocalBand:function(){return this._bandData.canManageLocalBand()},canRegisterLocalMeetup:function(){return this._bandData.canRegisterLocalMeetup()},canShowLocalBandInfo:function(){return this._bandData.canShowLocalBandInfo()},canShowRegionAndKeyword:function(){i.canAccessBandSearchForGuardianship()},canDiscoverLocalBand:function(){return this._bandData.canDiscoverLocalBand()},canShowUpcomingLocalBandMeetupSchedule:function(){return this._bandData.canShowLocalBandInfo()}}));return a.build=function(t){return new a({bandData:t})},a}.call(e,n,e,t))||(t.exports=i)},844:function(t,e,n){var i=n(0),a=n(21),o=n(13);function s(){return o.isLogedIn()?a.getLoginV1Client():a.getNoLoginV1Client()}function r(){return o.isLogedIn()?a.getLoginV1ClientWithoutErrorAlert():a.getNoLoginV1Client()}var d={getDiscoverList:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.8/discover/list",params:{platform:"WEB",webPlatform:window.isMobileView?"MWEB":"PCWEB"}}]).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdDiscover:function(){return r().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/discover/get",params:{discoverVersion:"1.0.0",platform:"WEB"},method:"GET"}]).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdMissionList:function(t,e){var n=[{svc_id:"RCMD",path:"/v1/mission/list",params:t,method:"GET"}];return e&&n.push({svc_id:"RCMD",path:"/v1/mission/keywordList",method:"GET"}),s().sendBatchApiBatchRequest(n).then((function(t){return i.pluck(t,"result_data")}))},getRcmdBandHomeUpperList:function(){return r().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v1/bandhome/upperList",params:{bandHomeUpperVersion:"1.1.0",platform:"WEB"},method:"GET"}]).then((function(t){return i.pluck(t,"result_data")}))},getRcmdUserKeywords:function(t,e){var n=[{svc_id:"RCMD",path:"/v1/keyword/getUserKeywords",params:{userNo:t,country:e},method:"GET"}];return s().sendBatchApiBatchRequest(n).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdUserRegion:function(){return r().sendBatchApiBatchRequest([{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcmdUserRegion",method:"GET"}]).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdRcodeName:function(t){var e=[{svc_id:"RCMD",path:"/v2.0.7/regionBand/getRcodeName",params:{rcode:t},method:"GET"}];return r().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdRegionBandKeywordList:function(){return s().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/keywordList"}]).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdRegionBandList:function(t){var e=[{svc_id:"RCMD",method:"GET",path:"/v2.0.7/regionBand/list",params:t}];return r().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))},setRcmdUserKeyword:function(t){var e=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeyword",params:t}];return s().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))},setRcmdUserKeywords:function(t){var e=[{svc_id:"RCMD",method:"GET",path:"/v1/keyword/setUserKeywords",params:t}];return s().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))},sendRcmdRefreshPathParam:function(t){var e=[{svc_id:"RCMD",method:"GET",path:t}];return r().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))},getRcmdBandHomeRegionBandCard:function(){return r().sendBatchApiBatchRequest([{svc_id:"RCMD",method:"GET",path:"/v2.0.7/bandhome/regionBandCard"}]).then((function(t){return i.pluck(t,"result_data")[0]}))},getHowAboutThisBand:function(t){var e=[{svc_id:"RCMD",method:"GET",path:"/v1/howaboutthisband/list",params:{howAboutThisBandVersion:"1.0.0",cursor:t||null}}];return s().sendBatchApiBatchRequest(e).then((function(t){return i.pluck(t,"result_data")[0]}))}};t.exports=d},952:function(t,e,n){var i;void 0===(i=function(t){var e=n(6),i=n(0),a=n(861),o=n(825),s=n(514),r=e.Collection.extend({model:function(t){return new o(t,{parse:!0})},fetchOnGoingMissions:function(t){return this._fetchOnGoingMissionsData(t).then(i.bind((function(t){return this.reset(t),this}),this))},_fetchOnGoingMissionsData:function(t){return a.getOnGoingMissions(t).then((function(e){var n=(new Date).valueOf();return i.map(e,(function(e){return i.extend({band_no:t,confirm_status:e.confirm_status,remind_state:e.remind_state,fetchedAt:n},e.mission)}))}))},fetchEndedMissions:function(t){return a.getEndedMissions({band_no:t}).then(i.bind((function(e){var n=(new Date).valueOf(),a=i.map(e.items,(function(e){return i.extend({band_no:t,fetchedAt:n},e)}));return this.reset(a),this.paging=e.paging,this}),this))},fetchMoreEndedMissions:function(t){return a.getEndedMissions(t).then(i.bind((function(e){var n=(new Date).valueOf(),a=i.map(e.items,(function(e){return i.extend({band_no:t.band_no,fetchedAt:n},e)}));return this.add(a),this.paging=e.paging,this}),this))},fetchNotEndedMissions:function(t){return a.getNotEndedMissions({band_no:t}).then(i.bind((function(e){var n=(new Date).valueOf(),a=i.map(e.items,(function(e){return i.extend({band_no:t,fetchedAt:n},e)}));return this.reset(a),this.paging=e.paging,this}),this))},fetchEndedMissionCount:function(t){return a.getEndedMissionCount(t).then((function(t){return t.ended_mission_count}))},fetchMoreNotEndedMissions:function(t){return a.getNotEndedMissions(t).then(i.bind((function(e){var n=(new Date).valueOf(),a=i.map(e.items,(function(e){return i.extend({band_no:t.band_no,fetchedAt:n},e)}));return this.add(a),this.paging=e.paging,this}),this))},fetchParticipatedMissions:function(t){return a.getParticipatedMissions(t).then(i.bind((function(e){var n=t.band_no,a=Date.now(),o=i.map(e.items,(function(t){return t.band_no=n,t.fetched_at=a,t}));return this.add(o),s.get(e,"paging.next_params")}),this))},fetchMyMissions:function(t){return a.getMissionsForEditing(t).then(i.bind((function(e){var n=Date.now(),a=e.items;i.each(a,(function(e){e.band_no=t,e.fetched_at=n})),this.reset(a)}),this))}});return r.buildBandMissionCollection=function(){return new r},r}.call(e,n,e,t))||(t.exports=i)}}]);